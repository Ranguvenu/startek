/**
 *
 * @package    local_certificates
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_certificates/deletecertificate",["jquery","core/str","core/modal_factory","core/modal_events","core/ajax"],(function($,Str,ModalFactory,ModalEvents,Ajax){return{init:function(args){},deleteConfirm:function(args){return Str.get_strings([{key:"confirm"},{key:"deleteconfirm_cert",component:"local_certificates",param:args.fullname},{key:"delete"}]).then(function(s){ModalFactory.create({title:s[0],type:ModalFactory.types.DEFAULT,body:s[1],footer:'<button type="button" class="btn btn-primary" data-action="save">'+M.util.get_string("yes","moodle")+'</button>&nbsp;<button type="button" class="btn btn-secondary" data-action="cancel">'+M.util.get_string("no","moodle")+"</button>"}).done(function(modal){this.modal=modal,modal.getRoot().find('[data-action="save"]').on("click",function(){var deleteparams={};deleteparams.certificateid=args.id,Ajax.call([{methodname:"local_certificates_"+args.action,args:deleteparams}])[0].done((function(resp){window.location.href=window.location.href})).fail((function(ex){console.log(ex)}))}.bind(this)),modal.getFooter().find('[data-action="cancel"]').on("click",(function(){modal.setBody(""),modal.hide()})),modal.show()}.bind(this))}.bind(this))}}}));

//# sourceMappingURL=deletecertificate.min.js.map