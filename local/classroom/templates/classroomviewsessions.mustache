{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}

{{#response}}
    {{#viewtypeCard}}
    <div class="" id="sessions_tab_content">
        <table class="w-full pull-left generaltable" id = sessionsdata>
        {{#records.0}}
            <thead>
                <tr>
                    {{#classroomname}}<th>{{#str}}classroomname,local_classroom{{/str}}</th>{{/classroomname}}
                    <th>{{#str}}name{{/str}}</th>
                    <th>{{#str}}startdate, local_classroom{{/str}}</th>
                    <th>{{#str}}enddate, local_classroom{{/str}}</th>
                    <th>{{#str}}type,local_classroom{{/str}}</th>
                    <th>{{#str}}recordinglink,local_classroom{{/str}}</th>
                    <th>{{#str}}messagelink,local_classroom{{/str}}</th>
                    <th>{{#str}}room,local_classroom{{/str}}</th>
                    <th>{{#str}}status,local_classroom{{/str}}</th>
                    <th>{{#str}}attended_sessions_users,local_classroom{{/str}}</th>
                    <th>{{#str}}faculty,local_classroom{{/str}}</th>
                    {{# action}} {{^classroomname}}{{#createsession}}
                        <th>{{#str}}actions{{/str}}</th>
                    {{/createsession}}{{/classroomname}}{{/action}}
                   
                </tr>
            </thead>
            {{/records.0}}
            {{#records}}
        <tr>
            {{#classroomname}}<td>{{classroomname}}</td>{{/classroomname}}
            <td>{{name}}</td>
            <td><i class="fa fa-calendar" aria-hidden="true"></i>{{starttime}}</td>
            <td><i class="fa fa-calendar" aria-hidden="true"></i>{{endtime}}</td>
            <td>{{{link}}}</td>
            <td>
                {{{recordinglink}}}
                <div class="modal fade" id="myRecordModal" role="dialog">
                    <div class="modal-dialog">

                      <!-- Modal content-->
                      <div class="modal-content">
                        <div class="modal-header">
                          <h4 class="modal-title">Recorded Video</h4>
                          <button type="button" class="close" data-dismiss="modal">&times;</button>
                        </div>
                        <div class="modal-body">               
                          <video src="{{recordurl}}" id="classroomvideo" class="video-js vjs-default-skin vjs-layout-large" controls preload="auto" width="468" height="315"></video>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-default classroomvideo-close" data-dismiss="modal">Close</button>
                        </div>
                      </div>

                    </div>
                  </div>

                </div>
            </td>
            <td>{{{messagelink}}}</td>
            <td>{{room}}</td>
            <td>{{status}}</td>
            <td>{{attendacecount}}</td>
            <td>{{{trainer}}}</td>
            {{^classroomname}}{{#action}}
            <td>
                    {{#editicon}}
                    <a href="javascript:void(0);" alt="{{#str}}edit{{/str}}" title="{{#str}}edit{{/str}}" onclick="(function(e){ require('local_classroom/ajaxforms').init({contextid:1, component:'local_classroom', callback:'session_form', form_status:0, plugintype: 'local_classroom', pluginname: 'session', id: {{id}}, cid: {{classroomid}}, title: 'updatesession'}) })(event)" >
                        <i class="fa fa-pencil fa-fw" alt="{{#str}}edit{{/str}}" ></i></a>
                    {{/editicon}}
                    {{#deleteicon}}
                    <a href="javascript:void(0);" alt="{{#str}}delete{{/str}}" title="{{#str}}delete{{/str}}" onclick="(function(e){ require('local_classroom/classroom').deleteConfirm({action:'deletesession', classroomid: {{classroomid}}, id: {{id}} , sessionname:'{{sessionname}}' }) })(event)" >
                        <i class="fa fa-trash fa-fw" ></i></a>
                    {{/deleteicon}}
                    {{#assignrolesicon}}
                    <a href="{{cfgwwwroot}}/local/classroom/attendance.php?cid={{classroomid}}&sid={{id}}" title="{{#str}}attendace,local_classroom{{/str}}">
                        <i class="fa fa-user-plus fa-fw" ></i></a>
                    {{/assignrolesicon}}
            </td>
           {{/action}}{{/classroomname}}
           
        </tr>
        {{/records}}
        </table>
    </div>
    {{/viewtypeCard}}
{{/response}}
