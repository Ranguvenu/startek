{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{#response}}
{{#viewtypeCard}}
<table id ="classroommodule" class="generaltable">
    <thead>
        <tr>
            <th>{{#str}}name, local_classroom{{/str}}</th>
            <th>{{#str}}enrolledusers, local_classroom{{/str}}</th>
            <th>{{#str}}pluginname, local_costcenter{{/str}}</th>
            <th>{{#str}}seats_allocation, local_classroom{{/str}}</th>
            <th>{{#str}}trainers, local_classroom{{/str}}</th>
            <th>{{#str}}courses{{/str}}</th>
            <th>{{#str}}actions, local_users{{/str}}</th>
        </tr>
    </thead>
    <tbody>
        {{#records}}
      
        <tr>
          
            <td>
              <a href="{{ classroomurl }}" class="class_name" title = "{{ classname }}">{{ classname_string }}</a>
            </td>
           
            <td>{{ enrolled_users }}</td>
            <td>{{ departmentname }}</td>
            <td>{{ seatallocation }}</td>
            <td class="d-flex gap-2"> 
             {{# trainerslimit}}
                 {{# trainers }}
                     <div class="trainer_details">
                        <span class="trainerimg pr-2">
                            <img src="{{trainerpic}}" alt="Picture of {{trainername}}" title="Picture of {{trainername}}" class="trainer_img userpicture" width="30" height="30">
                        </span>
                        <span class="trainerdetails">
                            <span class="trainername">{{ trainername }}</span>
                            <span class="trainerdesignation">{{ trainerdesignation }}</span>
                        </span>
                    </div>
                {{/ trainers }}
             {{/ trainerslimit}}
             
             {{^ trainerslimit }}
                 {{# moretrainers}}
                     <div class="trainer_details">
                        <span class="trainerimg">{{{ classroomtrainerpic }}}</span>
                            <span class="trainerdetails"><span class="trainername">{{ trainername }}</span><span class="trainerdesignation">{{ trainerdesignation }}</span></span>
                     </div>
                 {{/ moretrainers}}
             {{/ trainerslimit}}
                  {{^ trainers}}
                     <p class="no_trainers text-center">{{#str}}no_trainer_assigned, local_classroom{{/str}}</p>
                  {{/ trainers}}
              </td>
              
              <td> 
               <ul class="crcourseslist m-0">
                  {{# courses }}
                      <p class="contentlist m-0">
                         <a href="{{ courseurl }}" title="{{ coursetitle }}"> {{ coursename }} </a>
                      </p>
                  {{/ courses }}
               </ul>
                
                {{^ courses }}
                   <p class="text-center nocourses m-0">{{# str }} noclassroomcourses, local_classroom {{/ str }}</p>
                {{/ courses }}
             </td>
        
             <td>
                 {{# action}}
                   
                                            
                    {{# edit}}
                        <a title="{{# str}} user_enrollments, local_classroom {{/ str}}" href="javascript:void(0)" title = "{{# str}} edit {{/str}}" onclick="(function(e){ require('local_classroom/ajaxforms').init({contextid:1, component:'local_classroom', callback:'classroom_form', form_status:0, plugintype: 'local', pluginname: 'classroom', id: {{ classroomid }} }) })(event)">
                        <i class="fa fa-pencil fa-fw" aria-hidden="true" aria-label="" title = "{{# str}} edit {{/str}}"></i>
                        </a>
                     {{/ edit}}
                     
                     {{# assignusers}}
                         <a href="{{ assignusersurl }}"><i class="icon fa fa-user-plus fa-fw" aria-hidden="true" aria-label="" title ="{{# str}} assignusers, local_classroom {{/str}}"></i></a>
                     {{/ assignusers}}
                     {{# delete}}
                     <a title="{{# str}} coursebackup {{/ str}}" href="javascript:void(0)" alt = "{{# str}} delete {{/ str}}" title = "{{# str}} delete {{/ str}}" onclick="(function(e){ require('local_classroom/classroom').deleteConfirm({action:'deleteclassroom', id: {{ classroomid }}, classroomid: {{ classroomid }}, classroomname: '{{ classname }}'}) })(event)">
                     <i class="fa fa-trash fa-fw" aria-hidden="true" aria-label="" title = "{{# str}} delete {{/ str}}"></i>
                     </a>
                    {{/ delete}}

                 {{/ action}}
                 {{{ copyaction }}}
            </td>
        </tr>
       {{/records}}
    </tbody>
</table>
{{/viewtypeCard}}
{{/response}}
