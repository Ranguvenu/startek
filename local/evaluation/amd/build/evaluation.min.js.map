{"version":3,"file":"evaluation.min.js","sources":["../src/evaluation.js"],"sourcesContent":["/**\n * Add a create new group modal to the page.\n *\n * @module     block_gamification/gamification\n * @class      gamification\n * @package    block_gamification\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['local_courses/jquery.dataTables', 'jquery', 'core/str', 'core/modal_factory', 'core/modal_events', 'core/fragment', 'core/ajax', 'core/yui'],\n        function (DataTable, $, Str, ModalFactory, ModalEvents, Fragment, Ajax) {\nreturn {\n\t\tload :function(){\n\t\t\t\n            \n\t\t},\n\t\tgetdepartmentlist: function() {\n            $(document).on('change', '#id_costcenterid', function() {\n                var costcentervalue = $(this).find(\"option:selected\").val();\n                // var title = M.util.get_string(\"select_department\", \"local_onlinetests\");\n                if (costcentervalue && costcentervalue != 'null') {\n                    var promise = Ajax.call([{\n                        methodname: 'local_users_get_departments_list',\n                        args: {\n                            costcenterid: costcentervalue,\n                            contextid: 1\n                        },\n                    }]);\n                    promise[0].done(function(resp) {\n                        var resp = JSON.parse(resp);\n                        var template = '';                                    \n                        $.each(resp, function( index, value) {\n                            if(index == 0){\n                                return true;\n                            }\n                            template += '<option value = ' + index + ' >' +value+ '</option>';\n                        });\n                        $('#id_departmentid').html(template);\n                    }).fail(function() {\n                        // do something with the exception\n                        alert('Error occured while processing request');\n                        window.location.reload();\n                    });\n                }\n            });\n        },\n        gridchangedata: function(){\n            $(document).on('change', '#select_copyvalue', function(){\n                var copyval = $(this).val();\n                var evalid = $(this).data('evalid');\n                $.ajax({\n                    method: \"POST\",\n                    dataType: \"json\",\n                    data : {action: 'getgriddetails', copyval: copyval, evalid: evalid},\n                    url: M.cfg.wwwroot+\"/local/evaluation/customajax.php\",\n                    success: function(data){\n                        $(\"#grid_display_table\").html(data);\n                    }\n                }); \n            });\n        }\n\t};\n});"],"names":["define","DataTable","$","Str","ModalFactory","ModalEvents","Fragment","Ajax","load","getdepartmentlist","document","on","costcentervalue","this","find","val","call","methodname","args","costcenterid","contextid","done","resp","JSON","parse","template","each","index","value","html","fail","alert","window","location","reload","gridchangedata","copyval","evalid","data","ajax","method","dataType","action","url","M","cfg","wwwroot","success"],"mappings":";;;;;;;;AAQAA,qCAAO,CAAC,kCAAmC,SAAU,WAAY,qBAAsB,oBAAqB,gBAAiB,YAAa,aAClI,SAAUC,UAAWC,EAAGC,IAAKC,aAAcC,YAAaC,SAAUC,YACnE,CACLC,KAAM,aAINC,kBAAmB,WACTP,EAAEQ,UAAUC,GAAG,SAAU,oBAAoB,eACrCC,gBAAkBV,EAAEW,MAAMC,KAAK,mBAAmBC,MAElDH,iBAAsC,QAAnBA,iBACLL,KAAKS,KAAK,CAAC,CACrBC,WAAY,mCACZC,KAAM,CACFC,aAAcP,gBACdQ,UAAW,MAGX,GAAGC,MAAK,SAASC,MACjBA,KAAOC,KAAKC,MAAMF,UAClBG,SAAW,GACfvB,EAAEwB,KAAKJ,MAAM,SAAUK,MAAOC,UACd,GAATD,aACQ,EAEXF,UAAY,mBAAqBE,MAAQ,KAAMC,MAAO,eAE1D1B,EAAE,oBAAoB2B,KAAKJ,aAC5BK,MAAK,WAEJC,MAAM,0CACNC,OAAOC,SAASC,gBAKhCC,eAAgB,WACZjC,EAAEQ,UAAUC,GAAG,SAAU,qBAAqB,eACtCyB,QAAUlC,EAAEW,MAAME,MAClBsB,OAASnC,EAAEW,MAAMyB,KAAK,UAC1BpC,EAAEqC,KAAK,CACHC,OAAQ,OACRC,SAAU,OACVH,KAAO,CAACI,OAAQ,iBAAkBN,QAASA,QAASC,OAAQA,QAC5DM,IAAKC,EAAEC,IAAIC,QAAQ,mCACnBC,QAAS,SAAST,MACdpC,EAAE,uBAAuB2B,KAAKS"}