{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template local_request/requestview

    Select an action to execute.

    Classes required for JS:
    * none

    Data attibutes required for JS:
    * none

    Context variables required for this template:
    * message - The message to explain why we ask user to select an action
    * choices - List of possible actions
    * confirm - Text for button confirms
    * cancel -  Text for button cancel

    Example context (json):
    {
        "message": "Message",
        "requests": [
            { "status": "1",
             "compname": "One",
             "requestedby":  
             "requesteddate"
              }        

        ],
        
    },         

}}


                      
<div class="pull-right text-center">
    
        {{#capability}}

            {{#capability.approve_capability}}

                {{#request.approvestatus}}  
                  <span class="pull-left status_approved req_status" title="{{#str}}approved,local_request{{/str}} "><i class="fa fa-check-circle" aria-hidden="true"></i></span>
                {{/request.approvestatus}}

                {{^request.approvestatus}}      
                <span class="pull-left req_status">
                <a href="#" class="status_approve_link req_status_link" onclick='(function(e){ require("local_request/requestconfirm").init({ componentid:{{{request.componentid}}}, component:"{{{request.compname}}}", id:{{{request.id}}}, action:"approve",  requesteduser: "{{{request.requesteduser}}}" })})(event)'> {{#str}}approve,local_request{{/str}} </a></span>
                {{/request.approvestatus}}

            {{/capability.approve_capability}}

            {{#capability.deny_capability}}

            {{#request.rejectstatus}}
               <span class="pull-left status_rejected req_status" title="{{#str}}rejected,local_request{{/str}}"><i class="fa fa-times-circle" aria-hidden="true"></i></span>
            {{/request.rejectstatus}}

            {{^request.rejectstatus}}  
            <span class="pull-left req_status">
            <a href="#" class="status_reject_link req_status_link" onclick='(function(e){ require("local_request/requestconfirm").init({ componentid:{{{request.componentid}}}, component:"{{{request.compname}}}", id:{{{request.id}}}, action: "deny", requesteduser:"{{{request.requesteduser}}}"  })})(event)'> {{#str}}deny,local_request{{/str}} </a>
            </span>
            {{/request.rejectstatus}} 

            {{/capability.deny_capability}}
        {{/capability}} 

</div>
           



