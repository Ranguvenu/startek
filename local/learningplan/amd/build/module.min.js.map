{"version":3,"file":"module.min.js","sources":["../src/module.js"],"sourcesContent":["//this js added by sharath for moduletype selection\ndefine(['jquery', 'core/str', 'core/modal_factory', 'core/modal_events'],\n  function ($, Str) {\n    return {\n      init: function () {\n        $(document).on('click', '.moduletype', function () {\n          var moduletype = $(\"input[name='moduletype']:checked\").val();\n          var planid = $(\"input[name=planid]\").val();\n          return Str.get_strings([{\n            key: 'search',\n            component: 'moodle',\n          }]).then(function (s) {\n            $.ajax({\n              method: \"GET\",\n              dataType: \"json\",\n              url: M.cfg.wwwroot + \"/local/learningplan/ajax.php?moduletype=\" + moduletype + \"&planid=\" + planid,\n\n              success: function (data) {\n                if (data) {\n                  var moduletypetemplate = '<option value=\"\">--' + s[0] + ' ' + moduletype + '--</option>';\n                } else {\n                  var moduletypetemplate = '';\n                }\n\n                $.each(data, function (index, value) {\n                  moduletypetemplate += '<option value = ' + index + ' >' + value + '</option>';\n                });\n\n                $(\"#id_learning_plan_courses_\").html(moduletypetemplate);\n              }\n            });\n          }.bind(this));\n        });\n\n      }\n    };\n  });"],"names":["define","$","Str","init","document","on","moduletype","val","planid","get_strings","key","component","then","s","ajax","method","dataType","url","M","cfg","wwwroot","success","data","moduletypetemplate","each","index","value","html","bind","this"],"mappings":"AACAA,mCAAO,CAAC,SAAU,WAAY,qBAAsB,sBAClD,SAAUC,EAAGC,WACJ,CACLC,KAAM,WACJF,EAAEG,UAAUC,GAAG,QAAS,eAAe,eACjCC,WAAaL,EAAE,oCAAoCM,MACnDC,OAASP,EAAE,sBAAsBM,aAC9BL,IAAIO,YAAY,CAAC,CACtBC,IAAK,SACLC,UAAW,YACTC,KAAK,SAAUC,GACjBZ,EAAEa,KAAK,CACLC,OAAQ,MACRC,SAAU,OACVC,IAAKC,EAAEC,IAAIC,QAAU,2CAA6Cd,WAAa,WAAaE,OAE5Fa,QAAS,SAAUC,SACbA,SACEC,mBAAqB,sBAAwBV,EAAE,GAAK,IAAMP,WAAa,mBAEvEiB,mBAAqB,GAG3BtB,EAAEuB,KAAKF,MAAM,SAAUG,MAAOC,OAC5BH,oBAAsB,mBAAqBE,MAAQ,KAAOC,MAAQ,eAGpEzB,EAAE,8BAA8B0B,KAAKJ,wBAGzCK,KAAKC"}