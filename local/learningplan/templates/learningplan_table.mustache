{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{#response}}
{{#viewtypeCard}}
<table id ="manage_learningplan" class="generaltable">
    <thead>
        <tr>
            <th>{{#str}}learning_path_name, local_learningplan{{/str}}</th>
            <th>{{#str}}learningplan, local_learningplan{{/str}}</th>
            <th>{{#str}}pluginname, local_costcenter{{/str}}</th>
            <th>{{#str}}courses, local_learningplan{{/str}}</th>
            <th>{{#str}}actions, local_learningplan{{/str}}</th>
        </tr>
    </thead>
    <tbody>
        {{#records}}
            {{# haslp}}
            <tr class="{{^hide}}disabled{{/hide}}">
                <td>
                    <a href="{{ view_url }}" title="{{ learning_plan_name }}">{{ learning_plan_name }}</a>
                </td>            
                <td>{{shortname}}</td>
                <td>{{plandpt}}</td>
                <td>{{lpcoursescount}}</td>
                <td>
                                            {{# capability2}}
                                            <a class="dropdown-item" href='javascript:void(0)' title = "{{# str}} edit {{/ str}}" onclick="(function(e){ require('local_learningplan/lpcreate').init({selector:'updatelpmodal', contextid:1, planid:{{{learning_planid}}}, form_status:0, callback:'learningplan_form' }) })(event)">
                                                    <!--<img src="{{edit_icon_url}}" title="edit" class="icon" >-->
                                                    <i class="fa fa-pencil fa-fw" aria-hidden="true" title="{{# str}} edit {{/ str}}" aria-label="Edit"></i>Edit
                                            </a>
                                            {{/ capability2}}
                                            <a class="dropdown-item" href='{{enroll_link}}' title = "{{# str}} le_enrol_users,local_learningplan {{/ str}}" >
                                                <i class=" fa fa-user-plus fa-fw" aria-hidden="true" title="{{# str}} le_enrol_users,local_learningplan {{/ str}}" aria-label="Enroll Users"></i>Enroll Users
                                            </a>
                                            {{# capability1}}
                                                {{# hide}}
                                                <a class="dropdown-item" href='javascript:void(0)' title="{{title_hide_show}}" onclick="(function(e){ require('local_learningplan/lpcreate').toggleVisible({action:'toggleplan' ,visible:'visible', name:'{{{learning_plan_name}}}', id:{{{learning_planid}}} }) })(event)">
                                                        <i class="fa fa-eye" title="{{title_hide_show}}"></i>{{title_hide_show}}
                                                </a>
                                                {{/ hide}}
                                                {{^ hide}}
                                                <a class="dropdown-item" href='javascript:void(0)' title="{{title_hide_show}}"  onclick="(function(e){ require('local_learningplan/lpcreate').toggleVisible({action:'toggleplan' ,visible:'hidden', name:'{{{learning_plan_name}}}', id:{{{learning_planid}}} }) })(event)">
                                                        <!--<img src="{{hide_show_icon_url}}" class="icon">-->
                                                        <i class="fa fa-eye-slash" title="{{title_hide_show}}"></i>{{title_hide_show}}
                                                    </a>

                                                {{/hide}}
                                            {{/ capability1}}
                                            
                                            {{# capability3}}
                                              <a class="dropdown-item" href='javascript:void(0)' title = "{{# str}} delete {{/ str}}" onclick="(function(e){ require('local_learningplan/lpcreate').deleteConfirm({action:'deleteplan' , id:{{{learning_planid}}}, name:'{{{learning_plan_name}}}'  }) })(event)">
                                                    <!--<img src="{{delete_icon_url}}"  class="icon" >-->
                                                    <i class="fa fa-trash fa-fw" aria-hidden="true" title="{{# str}} delete {{/ str}}" aria-label="Delete"></i>Delete
                                                </a>
                                            {{/ capability3}}
                </td>
            </tr>
            {{/ haslp}}
        {{/records}}
    </tbody>
</table>
{{/viewtypeCard}}
{{/response}}
