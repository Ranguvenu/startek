{"version":3,"file":"matrix.min.js","sources":["../src/matrix.js"],"sourcesContent":["define([\n        'jquery', \n        'core/str',         \n        'core/modal_factory', \n        'core/modal_events', \n        'core/fragment', \n        'core/ajax', \n        'core/templates',\n        'core/yui',\n        'core/loadingicon'\n        ],\nfunction($, Str, ModalFactory, ModalEvents, Fragment, Ajax, Templates, Y, LoadingIcon) {\n\n    var matrixcategories = function(ccID,roleID,tempID){ \n        var loadElement = $('.loadElement');\n        var loadingIcon = LoadingIcon.addIconToContainerWithPromise(loadElement);      \n        var params = {};                            \n        params.costcenterid = ccID;        \n        params.templateid = tempID;        \n        params.role = (roleID != undefined)? roleID : 0;        \n        var promise = Ajax.call([{\n            methodname: 'local_custom_matrix_matrix_view',\n            args: params\n        }]);\n            \n        promise[0].done(function(resp) {                        \n            loadingIcon.resolve();\n            var show = (resp['pm_records_count'] > 0)?false:true;\n            var data = Templates.render('local_custom_matrix/matrix_view'+name, {response: resp['records'],show : show});\n            data.then(function(response){\n                $(\"#fgroup_id_matrix\").html(response);\n            });\n        }).fail(function(ex) {\n            loadingIcon.resolve();\n            // do something with the exception\n            console.log(ex);\n        }); \n    };\n\nreturn {\n        fetchMatrixCategories: function(roletype,orgid,tempID){            \n            if(roletype != 0){\n                $('#id_role').on('change',function(){                 \n                    var roleID = $(this).val();                                \n                    var ccID = (orgid != 0)?orgid :$('#id_costcenter_id').val();\n                    matrixcategories(ccID,roleID,tempID); \n                });\n            }else{                \n                if(orgid != 0){\n                    var roleID = 0;                                \n                    var ccID = orgid; \n                    matrixcategories(ccID,roleID,tempID);\n                }else{\n                    $('#id_costcenter_id').on('change',function(){    \n                        var roleID = 0;                                \n                        var ccID = $(this).val(); \n                        matrixcategories(ccID,roleID,tempID); \n                    });\n                }\n                \n            }                \n        },\n        fetchuserMatrixdata: function(){  \n            var loadElement = $('.loadElement');\n            var loadingIcon = LoadingIcon.addIconToContainerWithPromise(loadElement);          \n            var params = {};\n            params.period = $('#perforamce_period').val();\n            params.userid = $('#userid').val();\n            params.orgid = $('option:selected', '#perforamce_period').attr('data-org');\n            params.role =  $('option:selected', '#perforamce_period').attr('data-role');\n            params.year =  $('option:selected', '#perforamce_period').attr('data-year');\n            params.year = (params.year=='')?0:params.year;\n            params.month = $('option:selected', '#perforamce_period').attr('data-month');\n            params.tempid = $('option:selected', '#perforamce_period').attr('data-tempid');\n            if(params.period != ''){\n                $('#heading_id').html($('option:selected', '#perforamce_period').attr('data-name')); \n            }else{\n                $('#heading_id').html($('#heading_old').val()); \n            }           \n            var promise = Ajax.call([{\n                methodname: 'local_custom_matrix_user_matrix_view',\n                args: params\n            }]);\n\n            promise[0].done(function(resp) {  \n                var response = resp['records'];\n                var html = '';\n                response.forEach((value,key) => {\n\n                    if(value.parentid==0){\n                        html += '<tr>';\n                        html += '<td class=\"text-left\" ><h6>'+value.fullname+'';\n                        html += '<div class=\"input-group\">';\n                        html += '<input name=\"data_'+value.id+'_performancetype\" type=\"hidden\" value=\"'+value.fullname+'\" id=\"performancetype_'+value.id+'\">';\n                        html += '<input name=\"data_'+value.id+'_id\" type=\"hidden\" value=\"'+value.id+'\" id=\"parentid_'+value.id+'\">';\n                        html += '<input name=\"data_'+value.id+'_poid\" type=\"hidden\" value=\"'+value.poid+'\" id=\"poid_'+value.id+'\">';\n                        html += '<input name=\"data_'+value.id+'_role\" type=\"hidden\" value=\"'+value.role+'\" id=\"role_'+value.id+'\">';\n                        html += '<input name=\"data_'+value.id+'_parentid\" type=\"hidden\" value=\"'+value.parentid+'\" id=\"parentid_'+value.id+'\">';\n                        html += '<input name=\"data_'+value.id+'_type\" type=\"hidden\" value=\"'+value.type+'\" id=\"type_'+value.id+'\">';\n                        html += '<input name=\"data_'+value.id+'_logid\" type=\"hidden\" value=\"'+value.logid+'\" id=\"logid_'+value.id+'\">';\n                        html += '<input name=\"data_'+value.id+'_templateid\" type=\"hidden\" value=\"'+value.templateid+'\" id=\"templateid_'+value.id+'\">';\n                        html += ' </div>';\n                        html +='</h6></td>';\n                        html += '<td></td>';\n                        html += '<td></td>';\n                        html += '<td><h6>'+value.weightage+'</h6>';\n                        html += '<input type=\"hidden\" class=\"form-control \" name=\"data_'+value.id+'_weight\" id=\"weight_'+value.id+'\" value=\"'+value.weightage+'\">';\n                        html += '</td>';\n                        html += '<td></td>';                        \n                        html += '</tr>';\n                    }else{\n                        html += '<tr>';\n                        html += '<td></td>';\n                        html += '<td class=\"text-left\" ><h6>'+value.fullname+'';\n                        html += '<div class=\"input-group\">';\n                        html += '<input name=\"data_'+value.id+'_performancetype\" type=\"hidden\" value=\"'+value.fullname+'\" id=\"performancetype_'+value.id+'\">';\n                        html += '<input name=\"data_'+value.id+'_id\" type=\"hidden\" value=\"'+value.id+'\" id=\"parentid_'+value.id+'\">';\n                        html += '<input name=\"data_'+value.id+'_poid\" type=\"hidden\" value=\"'+value.poid+'\" id=\"poid_'+value.id+'\">';\n                        html += '<input name=\"data_'+value.id+'_role\" type=\"hidden\" value=\"'+value.role+'\" id=\"role_'+value.id+'\">';\n                        html += '<input name=\"data_'+value.id+'_parentid\" type=\"hidden\" value=\"'+value.parentid+'\" id=\"parentid_'+value.id+'\">';\n                        html += '<input name=\"data_'+value.id+'_type\" type=\"hidden\" value=\"'+value.type+'\" id=\"type_'+value.id+'\">';\n                        html += '<input name=\"data_'+value.id+'_logid\" type=\"hidden\" value=\"'+value.logid+'\" id=\"logid_'+value.id+'\">';\n                        html += '<input name=\"data_'+value.id+'_templateid\" type=\"hidden\" value=\"'+value.templateid+'\" id=\"templateid_'+value.id+'\">';\n                        html += '</div>';\n                        html +='</h6></td>';\n                        html += '<td><h6>'+value.maxscore+'</h6>';\n                        html += ' <input type=\"hidden\" class=\"form-control \" name=\"data_'+value.id+'_maxscore\" id=\"maxscore_'+value.id+'\" value=\"'+value.maxscore+'\">';\n                        html += '</td>';\n                        html += '<td></td>';\n                        if(value.type ==1){\n                            html +='<td class=\"text-center\">';\n                            html +='<div class=\"form-group  fitem  \">';\n                            html +='<span data-fieldtype=\"text\">';\n                            html +='<input type=\"number\" class=\"form-control\" style=\"width:40%;\" name=\"data_'+value.id+'_userscore\" id=\"userscore_'+value.id+'\" value=\"'+value.userscore+'\">';\n                            html +='</span>';\n                            html +='<div class=\"form-control-feedback invalid-feedback\" id=\"userscore_error_'+value.id+'\">';\n                            html +=' </div>';\n                            html +='</div>';\n                            html +='</td>';\n\n                        }else{\n                            if(value.userscore){\n                                html += '<td class=\"text-left\"><h6>'+value.userscore+'</h6></td>'; \n                            }else{\n                                html += '<td></td>'; \n                            }   \n                            \n                        }\n                        \n                        html += '</tr>';\n                    }         \n\n                });\n                $(\"#user_matrix_tbody\").html(html);\n                loadingIcon.resolve();\n            }).fail(function(ex) {\n                loadingIcon.resolve();\n                // do something with the exception\n                console.log(ex);\n            }); \n        },\n        saveMatrixdata: function(){  \n            var loadElement = $('.loadElement');\n            var loadingIcon = LoadingIcon.addIconToContainerWithPromise(loadElement);\n            var formData = $('form').serializeArray();\n            var formObj = {};\n            $.each(formData, function (i, input) {\n                formObj[input.name] = input.value;\n            });               \n\n            const keys = Object.keys(formObj);\n            var objval = [];\n            \n            keys.forEach((key, index) => {                 \n                 var str = key;\n                 var arr = str.split('_');                                          \n                 if(arr[0]== 'data'){                   \n\n                    objval[arr[1]] = [{\n                        'check':formObj['data_'+arr[1]+'_check'],\n                        'performancecatid': formObj['data_'+arr[1]+'_id'],\n                        'parentid': formObj['data_'+arr[1]+'_parentid'],\n                        'performancetype': formObj['data_'+arr[1]+'_performancetype'],\n                        'maxscore': formObj['data_'+arr[1]+'_maxscore'],\n                        'weightage': formObj['data_'+arr[1]+'_weight'],\n                        'path': formObj['data_'+arr[1]+'_path'],\n                        'type': formObj['data_'+arr[1]+'_type'],\n                        'templateid': $(\"input[name=tempid]\").val(),\n                        'role':formObj['role'],\n                        'id':(formObj['data_'+arr[1]+'_pmid'] == '')? 0 :formObj['data_'+arr[1]+'_pmid'],\n                    }];        \n                 }                      \n            });\n           \n            var finalObj = [];\n            objval.forEach((value,key) => {                  \n                finalObj.push(objval[key][0]);\n            });\n            \n            var perfoParams = [];\n            var totalWeightage = 0;\n            var checkErrors = 0;\n            var perfoparentid = 0;\n            var checkParentCount = 0;\n            var checkChildCount = 0;\n            finalObj.forEach((value,key) => {\n                \n                if(value.parentid == 0 ){\n\n                    if( value.check == 1){\n                        checkParentCount++; \n                        perfoparentid = value.performancecatid;\n                    }\n                        \n                    if(value.weightage == '' && value.check == 1){                              \n                        checkErrors = 1;                       \n                        $('#weight_error_'+value['performancecatid']).text('Please enter valid weightage');\n                        $('#weight_error_'+value['performancecatid']).css('display','block');  \n                        $('#weight_'+value['performancecatid']).addClass('is-invalid');  \n                    }else{  \n                         \n                        $('#weight_error_'+value['performancecatid']).css('display','none');\n                        $('#weight_'+value['performancecatid']).removeClass('is-invalid'); \n                    }\n                }\n\n                if(value.parentid != 0){ \n                    if(value.check == 1){\n                        checkChildCount++;\n                    }                      \n                    if(value.maxscore == '' && value.check == 1){\n                        checkErrors = 1;                            \n                        $('#maxscore_error_'+value['performancecatid']).text('Please enter valid maxscore');\n                        $('#maxscore_error_'+value['performancecatid']).css('display','block');  \n                        $('#maxscore_'+value['performancecatid']).addClass('is-invalid');  \n                    }else{\n                        \n                        $('#maxscore_error_'+value['performancecatid']).css('display','none');\n                        $('#maxscore_'+value['performancecatid']).removeClass('is-invalid'); \n                    }\n                }\n                \n                if(value['weightage'] != undefined && value.check == 1){\n                    totalWeightage = parseInt(value['weightage'])+parseInt(totalWeightage);                     \n                }\n            \n                if(value['parentid'] != 0 && value.check == 1){  \n                    var  parentId =  (value['parentid'] == -1)? 0 :value['parentid'];              \n                    if(parentId in perfoParams){\n                        perfoParams[parentId].push({'maxscore': value['maxscore'],'id': value['performancecatid']});\n                    }else{\n                       perfoParams[parentId] = [{'maxscore': value['maxscore'],'id': value['performancecatid']}, \n                                ]; \n                   }  \n                }  \n            });                      \n            var childid = 0;\n            perfoParams.forEach((pervalue,perkey) => {\n                var subparamTotal = 0;                   \n               \n                pervalue.forEach((val,key) => {\n                    subparamTotal = parseInt(subparamTotal) +parseInt(val['maxscore']);\n                    childid = val['id'];                        \n                });\n              \n                if((subparamTotal > 100) || (subparamTotal < 100)){\n                    checkErrors = 1; \n                    $('#maxscore_error_'+childid).text('Sum of Performace params maxscore should be 100');\n                    $('#maxscore_error_'+childid).css('display','block');  \n                }\n              \n            });            \n            totalWeightage = isNaN(totalWeightage)? 0 : totalWeightage;           \n            if(totalWeightage == 0){\n                checkErrors = 1;  \n            }else{\n                if((totalWeightage > 100) || (totalWeightage < 100)){                   \n                    checkErrors = 1;                                     \n                    $('#weight_error_'+perfoparentid).text('Sum of Performace params weightage should be 100');\n                    $('#weight_error_'+perfoparentid).css('display','block');  \n                }else{                  \n                    $('#weight_error_'+perfoparentid).css('display','none');\n                    $('#weight_'+perfoparentid).removeClass('is-invalid'); \n                }\n            }                       \n\n            var tFinalObj = [];\n            finalObj.forEach((value,key) => {\n                value.parentid = (value.parentid == -1)? 0:value.parentid;\n                if(value.check == 1){\n                    tFinalObj.push(value);\n                }\n            });\n         \n            if(checkErrors == 0){\n                var params = {}; \n                params.jsonformdata = JSON.stringify(tFinalObj);                \n                var promise = Ajax.call([{\n                  methodname: 'local_custom_matrix_matrix_save',\n                  args: params,\n                }]);\n\n                Str.get_strings([{\n                    key: 'ok',\n                    component: 'local_custom_matrix',\n                }]).then(function(s) {\n                    promise[0].done(function(returndata) { \n                    var response = returndata;                                     \n                    loadingIcon.resolve();\n                    ModalFactory.create({\n                    title: 'Message',\n                    type: ModalFactory.types.DEFAULT,\n                    body: response.message,\n                    footer: '<button type=\"button\" class=\"btn btn-secondary\" data-action=\"cancel\">'+s[0]+'</button>'\n                        }).done(function(modal) {\n                            this.modal = modal;                          \n                            modal.getFooter().find('[data-action=\"cancel\"]').on('click', function() {\n                                modal.setBody('');\n                                modal.hide();\n                                var catid =  $(\"input[name=orgid]\").val();\n                                var role =  $('#id_role').val();\n                                var tempid =  $(\"input[name=tempid]\").val();                           \n                                matrixcategories(catid,role,tempid);\n                            });\n                            modal.show();\n                        }.bind(this));\n\n                    }).fail(function(ex) {\n                        loadingIcon.resolve();\n                        // do something with the exception\n                        console.log(ex);\n                    });\n\n                }.bind(this));\n\n            }else{\n                loadingIcon.resolve();                             \n                if(checkParentCount == 0 || checkChildCount == 0){\n                    ModalFactory.create({\n                    title: 'Message',\n                    type: ModalFactory.types.DEFAULT,\n                    body: 'Need to check atleast one Performance Category and Sub Category',\n                    footer: '<button type=\"button\" class=\"btn btn-secondary\" data-action=\"cancel\">Ok</button>'\n                        }).done(function(modal) {\n                        this.modal = modal;                          \n                        modal.getFooter().find('[data-action=\"cancel\"]').on('click', function() {\n                            modal.setBody('');\n                            modal.hide();                          \n                        });\n                        modal.show();\n                    }.bind(this));\n                }\n            }             \n        },\n        saveUserMatrixdata: function(){\n            var loadElement = $('.loadElement');\n            var loadingIcon = LoadingIcon.addIconToContainerWithPromise(loadElement);\n            var formData = $('form').serializeArray();\n            var formObj = {};               \n            $.each(formData, function (i, input) {\n                formObj[input.name] = input.value;\n            });           \n            const keys = Object.keys(formObj);\n            var objval = []; \n            keys.forEach((key, index) => {  \n                var str = key;\n                var arr = str.split('_');                     \n                if(arr[0]== 'data'){    \n                    if(formObj['data_'+arr[1]+'_userscore']){\n                        objval[arr[1]] = [{\n                        'userid':formObj['userid'],\n                        'performancetype': formObj['data_'+arr[1]+'_performancetype'],\n                        'performancecatid': formObj['data_'+arr[1]+'_id'],\n                        'maxpoints': formObj['data_'+arr[1]+'_maxscore'],\n                        'totalpoints':formObj['data_'+arr[1]+'_userscore'],\n                        'weightage': formObj['data_'+arr[1]+'_weight'],\n                        'role':formObj['data_'+arr[1]+'_role'],\n                        'parentid':formObj['data_'+arr[1]+'_parentid'],\n                        'type':formObj['data_'+arr[1]+'_type'],\n                        'templateid':formObj['data_'+arr[1]+'_templateid'],\n                        'id':(formObj['data_'+arr[1]+'_poid'] == '')? 0 :formObj['data_'+arr[1]+'_poid'],\n                        'logid':(formObj['data_'+arr[1]+'_logid'] == '')? 0 :formObj['data_'+arr[1]+'_logid'],\n                        \n                        }];\n                    }       \n                }                      \n            });\n\n            var finalObj = [];\n            objval.forEach((value,key) => {                  \n                finalObj.push(objval[key][0]);\n            });             \n            var checkErrors = 0; \n            finalObj.forEach((value,key) => {               \n                    \n                    if(value.parentid != 0){                       \n                        if(value.totalpoints == ''){\n                            checkErrors = 1;                            \n                            $('#userscore_error_'+value['performancecatid']).text('Please enter valid maxscore');\n                            $('#userscore_error_'+value['performancecatid']).css('display','block');  \n                            $('#userscore_'+value['performancecatid']).addClass('is-invalid');  \n                        }else{\n                            $('#userscore_error_'+value['performancecatid']).css('display','none');\n                            $('#userscore_'+value['performancecatid']).removeClass('is-invalid'); \n                        }\n                        if(value.totalpoints != '' && value.totalpoints != undefined){\n                            var totalpoit = parseInt(value.totalpoints);\n                            var maxpoit = parseInt(value.maxpoints);\n                            if(totalpoit > maxpoit){\n                                checkErrors = 1;   \n                                $('#userscore_error_'+value['performancecatid']).text('User Score should be less than or equal to Max Score');\n                                $('#userscore_error_'+value['performancecatid']).css('display','block'); \n                                $('#userscore_'+value['performancecatid']).addClass('is-invalid'); \n                            }else{\n                                $('#userscore_error_'+value['performancecatid']).css('display','none');\n                                $('#userscore_'+value['performancecatid']).removeClass('is-invalid');\n                            }\n                        }\n                    }\n                });\n\n            finalObj.forEach((value,key) => {\n                value.parentid = (value.parentid == -1)? 0:value.parentid;\n            });\n            if(checkErrors == 0){\n                var params = {}; \n                params.jsonformdata = JSON.stringify(finalObj);                \n                var promise = Ajax.call([{\n                  methodname: 'local_custom_matrix_user_matrix_save',\n                  args: params\n                }]);\n                Str.get_strings([{\n                    key: 'ok',\n                    component: 'local_custom_matrix',\n                }]).then(function(s) {\n                    promise[0].done(function(returndata) {                  \n                    var response = returndata;\n                    loadingIcon.resolve();                    \n                    ModalFactory.create({\n                    title: 'Message',\n                    type: ModalFactory.types.DEFAULT,\n                    body: response.message,\n                    footer: '<button type=\"button\" class=\"btn btn-secondary\" data-action=\"cancel\">'+s[0]+'</button>'\n                        }).done(function(modal) {\n                            this.modal = modal;                          \n                            modal.getFooter().find('[data-action=\"cancel\"]').on('click', function() {\n                                modal.setBody('');\n                                modal.hide();\n                                location.reload();                               \n                            });\n                            modal.show();\n                        }.bind(this));\n                    }).fail(function(ex) {\n                        loadingIcon.resolve();\n                        // do something with the exception\n                        console.log(ex);\n                    });\n                 }.bind(this));\n            }  \n        },\n        cancelMatrix: function(){\n            window.reload;\n            $(\"#id_costcenter_id\").val('');\n            $(\"#id_role\").val('');\n        },\n        fetchEndUserMatrix: function(){\n            var loadElement = $('.loadElement');\n            var loadingIcon = LoadingIcon.addIconToContainerWithPromise(loadElement);\n            var params = {};           \n            params.period = $('#perforamce_period').val();\n            params.userid = $('#userid').val();\n            params.orgid = $('option:selected', '#perforamce_period').attr('data-org');\n            params.role =  $('option:selected', '#perforamce_period').attr('data-role');\n            params.year =  $('option:selected', '#perforamce_period').attr('data-year');\n            params.month = $('option:selected', '#perforamce_period').attr('data-month');\n            params.tempid = $('option:selected', '#perforamce_period').attr('data-tempid');\n            params.year = (params.year=='')?0:params.year;\n            params.orgid = (params.orgid=='')?$('#orgid').val():params.orgid;\n\n            if(params.period != ''){\n                $('#heading_id').html($('option:selected', '#perforamce_period').attr('data-name')); \n            }else{\n                $('#heading_id').html($('#heading_old').val()); \n            }           \n            var promise = Ajax.call([{\n                methodname: 'local_custom_matrix_user_matrix_view',\n                args: params\n            }]); \n            promise[0].done(function(resp) {  \n                var response = resp['records'];               \n                var html = '';\n                response.forEach((value,key) => {\n\n                    if(value.parentid==0){\n                        html += '<tr>';\n                        html += '<td class=\"text-left\" ><h6>'+value.fullname+'</h6>';                        \n                        html +='</td>';\n                        html += '<td></td>';\n                        html += '<td></td>';\n                        html += '<td><h6>'+value.weightage+'</h6>';                       \n                        html += '</td>';\n                        html += '<td></td>';   \n                        html += '</tr>';\n                    }else{\n                        html += '<tr>';\n                        html += '<td></td>';\n                        html += '<td class=\"text-left\" ><h6>'+value.fullname+'</h6>';                        \n                        html +='</td>';\n                        html += '<td><h6>'+value.maxscore+'</h6>';\n                        html += '</td>';\n                        html += '<td></td>';\n                        if(value.type ==1){\n                            if(value.userscore){\n                                html += '<td class=\"text-center\"><h6>'+value.userscore+'</h6></td>'; \n                            }else{\n                                html += '<td></td>'; \n                            }    \n                           \n                        }else{                            \n                            if(value.userscore){\n                                html += '<td class=\"text-center\"><h6>'+value.userscore+'</h6></td>'; \n                            }else{\n                                html += '<td></td>'; \n                            }                              \n                        }                        \n                        html += '</tr>';\n                    }\n               \n                });\n                 $(\"#matrix_tbody\").html(html);\n                loadingIcon.resolve();\n            }).fail(function(ex) {\n                    // do something with the exception\n                    console.log(ex);\n            });     \n\n    },\n\n\n};\n\n});\n"],"names":["define","$","Str","ModalFactory","ModalEvents","Fragment","Ajax","Templates","Y","LoadingIcon","matrixcategories","ccID","roleID","tempID","loadElement","loadingIcon","addIconToContainerWithPromise","params","costcenterid","templateid","role","undefined","call","methodname","args","done","resp","resolve","show","render","name","response","then","html","fail","ex","console","log","fetchMatrixCategories","roletype","orgid","on","this","val","fetchuserMatrixdata","period","userid","attr","year","month","tempid","forEach","value","key","parentid","fullname","id","poid","type","logid","weightage","maxscore","userscore","saveMatrixdata","formData","serializeArray","formObj","each","i","input","keys","Object","objval","index","arr","split","finalObj","push","perfoParams","totalWeightage","checkErrors","perfoparentid","checkParentCount","checkChildCount","check","performancecatid","text","css","addClass","removeClass","parseInt","parentId","childid","pervalue","perkey","subparamTotal","isNaN","tFinalObj","jsonformdata","JSON","stringify","promise","get_strings","component","s","returndata","create","title","types","DEFAULT","body","message","footer","modal","getFooter","find","setBody","hide","catid","bind","saveUserMatrixdata","totalpoints","maxpoints","location","reload","cancelMatrix","window","fetchEndUserMatrix"],"mappings":"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"}