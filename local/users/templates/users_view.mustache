{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
    {{#response}}
            {{#viewtypeCard}}
            <div class="customcount pull-right mb-2">
                <ul class="dashboard_count_list w-full pull-left p-0 m-0">
                    <li class="d-inline-block dashbaord_count_item p-2">
                        <span class="">
                            <span class="dashboard_count_string">{{# str}}total, local_users{{/ str}}: </span>
                            <span class="dashboard_count_value">{{{totalcount}}}</span>
                        </span>
                    </li>
                    <li class="d-inline-block dashbaord_count_item p-2">
                        <span class="">
                            <span class="dashboard_count_string">{{# str}}active, local_users{{/ str}}: </span>
                            <span class="dashboard_count_value">{{{activeusercount}}}</span>
                        </span>
                    </li>
                    <li class="d-inline-block dashbaord_count_item p-2">
                        <span class="">
                            <span class="dashboard_count_string">{{# str}}inactive, local_users{{/ str}}: </span>
                            <span class="dashboard_count_value">{{{inactiveusercount}}}</span>
                        </span>
                    </li>
                </ul>
            </div>

            <div class="card-wrap m-0 p-0 row w-100">
                {{#records}}
                        <div class="{{cardClass}} mb-4">
                                <div class="userscontainer {{# visible}} invisible_user {{/ visible}}">
                            <div>
                                    <div class="pull-right text-right">
                                    <div class="dropdown action_menu_dropdown">
                                        {{#actionsicons}}
                                        <span  data-toggle="dropdown" class="px-2" aria-expanded="false">
                                            <i class="fa fa-ellipsis-h"></i>
                                        </span>
                                        {{/actionsicons}}
                                        <div class="dropdown-menu dropdown-menu-right shadow-sm">
                                            {{# editcap }}
                                            <a href="javascript:void(0)" class="dropdown-item" title="{{#str}}edit{{/str}}" data-action="createusermodal" class="createusermodal" data-value="{{userid}}" onclick="(function(e){ require('local_users/newuser').init({selector:'createusermodal', context:1, id:{{userid}}, form_status:0, callback:'user_form'}) })(event)" style="cursor:pointer" title="Edit">
                                                <i class="fa fa-pencil fa-fw"></i> Edit
                                            </a>
                                              {{# visible}}
                                                <a href="javascript:void(0)" class="dropdown-item" title="{{# str}}makeactive,local_users{{/ str}}" onclick="(function(e){ require('local_users/newuser').userSuspend({ id:{{userid}},context:1, fullname:'{{fullname}}', status: 'disable' }) })(event)">
                                                <i class="fa fa-eye-slash"></i> Active</a>
                                              {{/ visible}}
                                              {{^ visible}}
                                                 <a href="javascript:void(0)" class="dropdown-item" title="{{# str}} makeinactive,local_users{{/ str}}" onclick="(function(e){ require('local_users/newuser').userSuspend({ id:{{userid}},context:1, fullname:'{{fullname}}', status: 'enable'}) })(event)">
                                                <i class="fa fa-eye"></i> Inactive</a>
                                                {{/ visible}}
                                            {{/ editcap }}
                                            {{# delcap }}
                                            <a href="javascript:void(0)" class="dropdown-item" title="{{#str}}delete, local_users{{/str}}" onclick="(function(e){ require('local_users/newuser').deleteConfirm({ action: 'delete_user' ,id:{{userid}},context:1, fullname:'{{fullname}}'}) })(event)">
                                                <i class="fa fa-trash fa-fw" aria-hidden="true" aria-label="Delete"></i> Delete
                                            </a>
                                            {{/ delcap }}
                                        </div>
                                    </div>
                                <!--  <span  class="pull-right showoptions" data-action="showoptions{{userid}}" onmouseenter="(function(e){ require('theme_epsilon/quickactions').quickactionsCall({ selector:'showoptions{{userid}}' }) })(event)" onmouseleave="(function(e){require('theme_epsilon/quickactions').quickactionsCall({ selector:'showoptions{{userid}}' }) })(event)"><i class="fa fa-ellipsis-h options"></i>
                                </span>
                                <ul class=" options_container" id = "showoptions{{userid}}">
                                    {{# delcap }}
                                    <li>
                                        <a href="javascript:void(0)" title="{{#str}}delete, local_users{{/str}}" onclick="(function(e){ require('local_users/newuser').deleteConfirm({ action: 'delete_user' ,id:{{userid}},context:1, fullname:'{{fullname}}'}) })(event)">
                                            <i class="fa fa-trash fa-fw" aria-hidden="true" aria-label="Delete"></i>
                                        </a>
                                    </li>
                                    {{/ delcap }}
                                    {{# editcap }}
                                    <li>
                                        <a href="javascript:void(0)" title="{{#str}}edit{{/str}}" data-action="createusermodal" class="createusermodal" data-value="{{userid}}" onclick="(function(e){ require('local_users/newuser').init({selector:'createusermodal', context:1, id:{{userid}}, form_status:0}) })(event)" style="cursor:pointer" title="Edit">
                                            <i class="fa fa-pencil fa-fw"></i>
                                        </a>
                                    </li>
                                        {{# visible}}
                                        <li>
                                            <a href="javascript:void(0)" title="{{# str}}makeactive,local_users{{/ str}}" onclick="(function(e){ require('local_users/newuser').userSuspend({ id:{{userid}},context:1, fullname:'{{fullname}}', status: 'disable' }) })(event)">
                                                <i class="fa fa-eye-slash"></i></a>
                                        </li>
                                        {{/ visible}}

                                        {{^ visible}}
                                        <li>
                                            <a href="javascript:void(0)" title="{{# str}} makeinactive,local_users{{/ str}}" onclick="(function(e){ require('local_users/newuser').userSuspend({ id:{{userid}},context:1, fullname:'{{fullname}}', status: 'enable'}) })(event)">
                                                <i class="fa fa-eye"></i></a>
                                        </li>
                                        {{/ visible}}
                                    {{/ editcap }}
                                </ul> -->
                            </div>
                            <div class="pull-left p-0 user_image">
                                <div>
                                    <img src="{{userpic}}" class="userpic defaultuserpic" width="60" height="60" alt="Picture of {{fullname}}" title="{{# str}} pictureof, local_users{{/ str}} {{fullname}}">
                                    <!-- {{{userpic}}} -->
                                </div>
                            </div>
                            {{# visible}}

                                <button class="btn btn_inactive_user">{{# str}} inactive, local_users{{/ str}}</button>
                            {{/ visible}}

                            {{^ visible}}
                                <button class="btn btn_active_user">{{# str}} active, local_users{{/ str}}</button>
                            {{/ visible}}

                            <!--<div class="user_top_content col-md-11 col-sm-12 col-12 pr-0">
                                <div class="col-md-12 col-sm-12 col-12 pr-0 user_top_left">
                                     <div class="col-md-6 col-sm-12 col-12 pull-left p-0">
                                        <div class="pull-left">
                                            <span class="pull-left username_lable">Name<span class="pull-right mr-10">:</span> </span><span><b>{{{ username }}}</b></span>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-sm-12 col-12 pull-left p-0">
                                        <div>
                                            <span class="pull-left userid_lable">Employee ID<span class="pull-right mr-10"> :</span> </span><span><b>{{ empid }}</b></span>
                                        </div>
                                    </div>
                                </div>
                                        <!-<div class="">
                                            <span class="" style="min-width: 92px; float: left">Contact No<span style="margin-right: 10px;float: right;">:</span> </span><span><b>{{ phno }}</b></span>
                                        </div>-->
                                        <!--<div class="">
                                            <span class="" style="min-width: 92px; float: left">{{# str}} lastaccess,local_users{{/ str}}<span style="margin-right: 10px;float: right;">:</span> </span><span><b>{{ lastaccess }}</b></span>
                                        </div>->
                            </div>-->
                            <div class="clearfix"></div>
                        </div>
                        <div class="row mt-2">

                            <div class=" col-lg-7 col-md-12 col-12  userdetails_left">
                                <p class="mb-2 w-full ">
                                    <span class="pull-left user_info_lable">{{# str}} name{{/ str}}
                                        <span class="pull-right mr-2">:</span>
                                    </span>
                                    <span>
                                        <b class="break_all"><a href="{{wwwroot}}/local/users/profile.php?id={{userid}}">{{ fullname }}</a></b>
                                    </span>
                                </p>
                                <p class="mb-2 w-full">
                                    <span class="pull-left user_info_lable">{{# str}}email, local_users{{/ str}}
                                        <span class="pull-right mr-2">:</span>
                                    </span>
                                    <span>
                                        <b class="break_all">{{ email }}</b>
                                    </span>
                                </p>
                                <p class="mb-2 w-full">
                                    <span class="pull-left user_info_lable">{{# str}} open_costcenterid, local_costcenter{{/ str}}
                                        <span class="pull-right mr-2">:</span>
                                    </span>
                                    <span title="{{org}}">
                                        <b>{{ orgstring }}</b>
                                    </span>
                                </p>
                                <p class="mb-2 w-full">
                                    <span class="pull-left user_info_lable">{{# str}} pluginname, local_costcenter{{/ str}}
                                        <span class="pull-right mr-2">:</span>
                                    </span>
                                    <span title="{{ dept }}">
                                        <b>{{ deptstring }}</b>
                                    </span>
                                </p>
                            </div>
                            <div class="col-lg-5 col-md-12 col-12  userdetails_right">
                                <p class="mb-2 w-full">
                                    <span class="pull-left user_info_lable userid_lable">{{# str}} employeeid, local_users{{/ str}}
                                        <span class="pull-right mr-2"> :</span>
                                    </span>
                                    <span>
                                        <b>{{ empid }}</b>
                                    </span>
                                </p>
                                <p class="mb-2 w-fullt">
                                    <span class="pull-left user_info_lable">{{# str}} open_subdepartment, local_costcenter{{/ str}}
                                        <span class="pull-right mr-2">:</span>
                                    </span>
                                    <span>
                                        <b>{{ commercialunit }}</b>
                                    </span>
                                </p>

                                <p class="mb-2 w-full">
                                    <span class="pull-left user_info_lable">{{# str}} open_level4department, local_costcenter{{/ str}}
                                        <span class="pull-right mr-2">:</span>
                                    </span>
                                    <span title="{{ supervisor }}">
                                        <b>{{ commercialarea }}</b>
                                    </span>
                                </p>
                                <p class="mb-2 w-full">
                                    <span class="pull-left user_info_lable">{{# str}} role, local_users{{/ str}}
                                        <span class="pull-right mr-2">:</span>
                                    </span>
                                    {{^ rolecount}}
                                    <span >
                                        <b>{{#str}}na,local_users{{/str}}</b>
                                    </span>
                                    {{/ rolecount}}
                                    {{# rolecount}}
                                    <a class="userpopup" href="javascript:void(0)" data-id={{userid}} data-action="popupmodal{{userid}}" data-username="{{fullname}}"><b>{{ rolecount }}</b>
                                    </a>
                                    {{/ rolecount}}
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            {{/records}}

            {{^records}}
                {{# nousers}}
                    <div class="w-100 pull-left alert alert-info">{{# str}}nousers, local_users{{/ str}}</div>
                {{/ nousers}}
            {{/records}}
        </div>
    {{/viewtypeCard}}
{{/response}}



