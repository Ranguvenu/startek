/**
* Add a create new group modal to the page.
*
* @module     local_courses/newcourse
* @class      NewCourse
* @package
* @copyright  2017 Shivani
* @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
*/
define("local_users/rolepopup",["local_assignroles/jquery.dataTables","jquery","core/str","core/modal_factory","core/modal_events","core/fragment","core/yui","jqueryui"],(function(DataTable,$,Str,ModalFactory,ModalEvents,Fragment){var NewPopup=function(args){this.contextid=args.contextid,this.id=args.id;this.init(args.selector)};return NewPopup.prototype.modal=null,NewPopup.prototype.contextid=-1,NewPopup.prototype.init=function(){var self=this;$(document).on("click",".userpopup",(function(){self.id=$(this).data("id"),self.username=$(this).data("username"),Str.get_string("usersrole","local_users",self).then((function(title){ModalFactory.create({title:title,body:self.getBody()}).done((function(modal){self.modal=modal,self.modal.setLarge(),self.modal.getRoot().on(ModalEvents.hidden,function(){self.modal.hide(),self.modal.destroy()}.bind(this)),self.modal.getRoot().on(ModalEvents.cancel,function(){self.modal.hide(),self.modal.destroy()}.bind(this)),self.modal.show(),self.modal.getRoot().on(ModalEvents.bodyRendered,function(){self.dataTableshow(self.id)}.bind(this))}))}))}))},NewPopup.prototype.dataTableshow=function(){Str.get_strings([]).then(function(s){$("#quiz_student_summary").DataTable({bPaginate:!0,bFilter:!0,bLengthChange:!0,lengthMenu:[[5,10,25,50,100,-1],[5,10,25,50,100,"All"]],language:{emptyTable:s[0],infoEmpty:s[0],zeroRecords:s[0],paginate:{previous:"<",next:">"}},oLanguage:{sSearch:s[1]},bProcessing:!0})}.bind(this))},NewPopup.prototype.getBody=function(formdata){if(void 0===formdata&&(formdata={}),void 0!==this.id)var params={id:this.id,jsonformdata:JSON.stringify(formdata)};else params={};return Fragment.loadFragment("local_users","userrole_display",this.contextid,params)},{init:function(args){return this.Datatable(),new NewPopup(args)},Datatable:function(){}}}));

//# sourceMappingURL=rolepopup.min.js.map