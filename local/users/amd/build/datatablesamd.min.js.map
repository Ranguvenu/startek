{"version":3,"file":"datatablesamd.min.js","sources":["../src/datatablesamd.js"],"sourcesContent":["/**\n * Add a create new group modal to the page.\n *\n * @module     core_group/AjaxForms\n * @class      AjaxForms\n * @package    core_group\n * @copyright  2017 Damyon Wiese <damyon@moodle.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine([\n    'core/str',\n    'core/modal_factory',\n    'core/modal_events',\n    'core/ajax',\n    'core/templates',\n    'jquery',\n    'jqueryui'\n], function(Str, ModalFactory, ModalEvents, Ajax, Templates, $) {\n    var users;\n    return users = {\n        init: function(args) {\n            \n        },\n        deletesyncStatistics: function(args){\n            var id = [];\n          // var value = $('input[type=checkbox]').prop('checked');\n            $(\":checkbox:checked\").each(function(i){\n                id[i] = parseInt($(this).val());\n            });\n            if(id.length > 0){\n                return Str.get_strings([{\n                    key: 'confirm'\n                },\n                {\n                    key: 'deleteconfirmsynch',\n                    component: 'local_users',\n                    param :args\n                },\n                {\n                    key: 'deleteconfirmsynch',\n                    component: 'local_users'\n                },\n                {\n                    key: 'delete'\n                }]).then(function(s) {\n                    ModalFactory.create({\n                        title: s[0],\n                        type: ModalFactory.types.SAVE_CANCEL,\n                        body: s[1]\n                    }).done(function(modal) {\n                        this.modal = modal;\n                        modal.setSaveButtonText(s[3]);\n                        modal.getRoot().on(ModalEvents.save, function(e) {\n                            e.preventDefault();\n                            args.confirm = true;\n                            var params = {};\n                            params.contextid = args.contextid;\n                            params.ids = JSON.stringify(id);\n                            var promise = Ajax.call([{\n                                methodname: 'local_users_'+args.action,\n                                args: params\n                            }]);\n                            promise[0].done(function(resp) {\n                                window.location.href = window.location.href;\n                            }).fail(function(ex) {\n                                 console.log(ex);\n                            });\n                        }.bind(this));\n                        modal.show();\n                    }.bind(this));\n                }.bind(this));\n            }else{\n            }\n            Str.get_string('selectonecheckbox_msg', 'local_users').then(function(s) {\n                alert(s);\n            });\n\n        },\n        load: function(){\n\n        }\n    };\n});"],"names":["define","Str","ModalFactory","ModalEvents","Ajax","Templates","$","init","args","deletesyncStatistics","id","each","i","parseInt","this","val","length","get_strings","key","component","param","then","s","create","title","type","types","SAVE_CANCEL","body","done","modal","setSaveButtonText","getRoot","on","save","e","preventDefault","confirm","params","contextid","ids","JSON","stringify","call","methodname","action","resp","window","location","href","fail","ex","console","log","bind","show","get_string","alert","load"],"mappings":";;;;;;;;;AASAA,mCAAO,CACH,WACA,qBACA,oBACA,YACA,iBACA,SACA,aACD,SAASC,IAAKC,aAAcC,YAAaC,KAAMC,UAAWC,SAE1C,CACXC,KAAM,SAASC,QAGfC,qBAAsB,SAASD,UACvBE,GAAK,MAETJ,EAAE,qBAAqBK,MAAK,SAASC,GACjCF,GAAGE,GAAKC,SAASP,EAAEQ,MAAMC,UAE1BL,GAAGM,OAAS,SACJf,IAAIgB,YAAY,CAAC,CACpBC,IAAK,WAET,CACIA,IAAK,qBACLC,UAAW,cACXC,MAAOZ,MAEX,CACIU,IAAK,qBACLC,UAAW,eAEf,CACID,IAAK,YACLG,KAAK,SAASC,GACdpB,aAAaqB,OAAO,CAChBC,MAAOF,EAAE,GACTG,KAAMvB,aAAawB,MAAMC,YACzBC,KAAMN,EAAE,KACTO,KAAK,SAASC,YACRA,MAAQA,MACbA,MAAMC,kBAAkBT,EAAE,IAC1BQ,MAAME,UAAUC,GAAG9B,YAAY+B,KAAM,SAASC,GAC1CA,EAAEC,iBACF5B,KAAK6B,SAAU,MACXC,OAAS,GACbA,OAAOC,UAAY/B,KAAK+B,UACxBD,OAAOE,IAAMC,KAAKC,UAAUhC,IACdN,KAAKuC,KAAK,CAAC,CACrBC,WAAY,eAAepC,KAAKqC,OAChCrC,KAAM8B,UAEF,GAAGT,MAAK,SAASiB,MACrBC,OAAOC,SAASC,KAAOF,OAAOC,SAASC,QACxCC,MAAK,SAASC,IACZC,QAAQC,IAAIF,QAEnBG,KAAKxC,OACPgB,MAAMyB,QACRD,KAAKxC,QACTwC,KAAKxC,OAGXb,IAAIuD,WAAW,wBAAyB,eAAenC,MAAK,SAASC,GACjEmC,MAAMnC,OAIdoC,KAAM"}