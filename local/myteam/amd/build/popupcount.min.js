/**
 * Add a create new group modal to the page.
 *
 * @module     local_myteam/popupcount
 * @class      popupcount
 * @package    local_myteam
 * @copyright  2018 sarath
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_myteam/popupcount",["jquery","core/str","core/modal_factory","core/modal_events","core/fragment","core/ajax","core/yui","jqueryui"],(function($,Str,ModalFactory,ModalEvents,Fragment,Ajax,Y){var NewPopup=function(args){this.contextid=args.contextid;this.init(args.selector)};return NewPopup.prototype.modal=null,NewPopup.prototype.contextid=-1,NewPopup.prototype.init=function(selector){var self=this;$(document).on("click",selector,(function(){self.id=$(this).data("userid"),self.username=$(this).data("username"),self.moduletype=$(this).data("moduletype"),Str.get_string("myteaminfo","local_myteam",self).then((function(title){ModalFactory.create({type:ModalFactory.types.CANCEL,title:title,body:self.getBody()}).done((function(modal){self.modal=modal,self.modal.setLarge(),self.modal.getRoot().on(ModalEvents.hidden,function(){self.modal.hide(),self.modal.destroy()}.bind(this)),self.modal.getRoot().on(ModalEvents.cancel,function(){self.modal.hide(),self.modal.destroy()}.bind(this)),self.modal.show(),self.modal.getRoot().on(ModalEvents.bodyRendered,function(){}.bind(this))}))}))}))},NewPopup.prototype.getBody=function(formdata){if(void 0===formdata&&(formdata={}),void 0!==this.id)var params={id:this.id,moduletype:this.moduletype,jsonformdata:JSON.stringify(formdata)};else params={};return Fragment.loadFragment("local_myteam","users_display_modulewise",this.contextid,params)},{init:function(args){return new NewPopup(args)}}}));

//# sourceMappingURL=popupcount.min.js.map