define("theme_epsilon/carousel",["exports","jquery","./util"],(function(exports,_jquery,_util){Object.defineProperty(exports,"__esModule",{value:!0});var _jquery2=_interopRequireDefault(_jquery),_util2=_interopRequireDefault(_util);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Carousel=function($){var NAME="carousel",DATA_KEY="bs.carousel",EVENT_KEY=".".concat(DATA_KEY),JQUERY_NO_CONFLICT=$.fn[NAME],Default={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},DefaultType={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},Direction_NEXT="next",Direction_PREV="prev",Direction_LEFT="left",Direction_RIGHT="right",Event={SLIDE:"slide".concat(EVENT_KEY),SLID:"slid".concat(EVENT_KEY),KEYDOWN:"keydown".concat(EVENT_KEY),MOUSEENTER:"mouseenter".concat(EVENT_KEY),MOUSELEAVE:"mouseleave".concat(EVENT_KEY),TOUCHEND:"touchend".concat(EVENT_KEY),LOAD_DATA_API:"load".concat(EVENT_KEY).concat(".data-api"),CLICK_DATA_API:"click".concat(EVENT_KEY).concat(".data-api")},ClassName_CAROUSEL="carousel",ClassName_ACTIVE="active",ClassName_SLIDE="slide",ClassName_RIGHT="carousel-item-right",ClassName_LEFT="carousel-item-left",ClassName_NEXT="carousel-item-next",ClassName_PREV="carousel-item-prev",Selector_ACTIVE=".active",Selector_ACTIVE_ITEM=".active.carousel-item",Selector_ITEM=".carousel-item",Selector_NEXT_PREV=".carousel-item-next, .carousel-item-prev",Selector_INDICATORS=".carousel-indicators",Selector_DATA_SLIDE="[data-slide], [data-slide-to]",Selector_DATA_RIDE='[data-ride="carousel"]',Carousel=function(){function Carousel(element,config){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Carousel),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(config),this._element=$(element)[0],this._indicatorsElement=$(this._element).find(Selector_INDICATORS)[0],this._addEventListeners()}var Constructor,protoProps,staticProps;return Constructor=Carousel,staticProps=[{key:"_jQueryInterface",value:function(config){return this.each((function(){var data=$(this).data(DATA_KEY),_config=_extends({},Default,$(this).data());"object"===_typeof(config)&&(_config=_extends({},_config,config));var action="string"==typeof config?config:_config.slide;if(data||(data=new Carousel(this,_config),$(this).data(DATA_KEY,data)),"number"==typeof config)data.to(config);else if("string"==typeof action){if(void 0===data[action])throw new TypeError('No method named "'.concat(action,'"'));data[action]()}else _config.interval&&(data.pause(),data.cycle())}))}},{key:"_dataApiClickHandler",value:function(event){var selector=_util2.default.getSelectorFromElement(this);if(selector){var target=$(selector)[0];if(target&&$(target).hasClass(ClassName_CAROUSEL)){var config=_extends({},$(target).data(),$(this).data()),slideIndex=this.getAttribute("data-slide-to");slideIndex&&(config.interval=!1),Carousel._jQueryInterface.call($(target),config),slideIndex&&$(target).data(DATA_KEY).to(slideIndex),event.preventDefault()}}}},{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return Default}}],(protoProps=[{key:"next",value:function(){this._isSliding||this._slide(Direction_NEXT)}},{key:"nextWhenVisible",value:function(){!document.hidden&&$(this._element).is(":visible")&&"hidden"!==$(this._element).css("visibility")&&this.next()}},{key:"prev",value:function(){this._isSliding||this._slide(Direction_PREV)}},{key:"pause",value:function(event){event||(this._isPaused=!0),$(this._element).find(Selector_NEXT_PREV)[0]&&_util2.default.supportsTransitionEnd()&&(_util2.default.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}},{key:"cycle",value:function(event){event||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}},{key:"to",value:function(index){var _this=this;this._activeElement=$(this._element).find(Selector_ACTIVE_ITEM)[0];var activeIndex=this._getItemIndex(this._activeElement);if(!(index>this._items.length-1||index<0))if(this._isSliding)$(this._element).one(Event.SLID,(function(){return _this.to(index)}));else{if(activeIndex===index)return this.pause(),void this.cycle();var direction=index>activeIndex?Direction_NEXT:Direction_PREV;this._slide(direction,this._items[index])}}},{key:"dispose",value:function(){$(this._element).off(EVENT_KEY),$.removeData(this._element,DATA_KEY),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null}},{key:"_getConfig",value:function(config){return config=_extends({},Default,config),_util2.default.typeCheckConfig(NAME,config,DefaultType),config}},{key:"_addEventListeners",value:function(){var _this2=this;this._config.keyboard&&$(this._element).on(Event.KEYDOWN,(function(event){return _this2._keydown(event)})),"hover"===this._config.pause&&($(this._element).on(Event.MOUSEENTER,(function(event){return _this2.pause(event)})).on(Event.MOUSELEAVE,(function(event){return _this2.cycle(event)})),"ontouchstart"in document.documentElement&&$(this._element).on(Event.TOUCHEND,(function(){_this2.pause(),_this2.touchTimeout&&clearTimeout(_this2.touchTimeout),_this2.touchTimeout=setTimeout((function(event){return _this2.cycle(event)}),500+_this2._config.interval)})))}},{key:"_keydown",value:function(event){if(!/input|textarea/i.test(event.target.tagName))switch(event.which){case 37:event.preventDefault(),this.prev();break;case 39:event.preventDefault(),this.next()}}},{key:"_getItemIndex",value:function(element){return this._items=$.makeArray($(element).parent().find(Selector_ITEM)),this._items.indexOf(element)}},{key:"_getItemByDirection",value:function(direction,activeElement){var isNextDirection=direction===Direction_NEXT,isPrevDirection=direction===Direction_PREV,activeIndex=this._getItemIndex(activeElement),lastItemIndex=this._items.length-1;if((isPrevDirection&&0===activeIndex||isNextDirection&&activeIndex===lastItemIndex)&&!this._config.wrap)return activeElement;var itemIndex=(activeIndex+(direction===Direction_PREV?-1:1))%this._items.length;return-1===itemIndex?this._items[this._items.length-1]:this._items[itemIndex]}},{key:"_triggerSlideEvent",value:function(relatedTarget,eventDirectionName){var targetIndex=this._getItemIndex(relatedTarget),fromIndex=this._getItemIndex($(this._element).find(Selector_ACTIVE_ITEM)[0]),slideEvent=$.Event(Event.SLIDE,{relatedTarget:relatedTarget,direction:eventDirectionName,from:fromIndex,to:targetIndex});return $(this._element).trigger(slideEvent),slideEvent}},{key:"_setActiveIndicatorElement",value:function(element){if(this._indicatorsElement){$(this._indicatorsElement).find(Selector_ACTIVE).removeClass(ClassName_ACTIVE);var nextIndicator=this._indicatorsElement.children[this._getItemIndex(element)];nextIndicator&&$(nextIndicator).addClass(ClassName_ACTIVE)}}},{key:"_slide",value:function(direction,element){var directionalClassName,orderClassName,eventDirectionName,_this3=this,activeElement=$(this._element).find(Selector_ACTIVE_ITEM)[0],activeElementIndex=this._getItemIndex(activeElement),nextElement=element||activeElement&&this._getItemByDirection(direction,activeElement),nextElementIndex=this._getItemIndex(nextElement),isCycling=Boolean(this._interval);if(direction===Direction_NEXT?(directionalClassName=ClassName_LEFT,orderClassName=ClassName_NEXT,eventDirectionName=Direction_LEFT):(directionalClassName=ClassName_RIGHT,orderClassName=ClassName_PREV,eventDirectionName=Direction_RIGHT),nextElement&&$(nextElement).hasClass(ClassName_ACTIVE))this._isSliding=!1;else if(!this._triggerSlideEvent(nextElement,eventDirectionName).isDefaultPrevented()&&activeElement&&nextElement){this._isSliding=!0,isCycling&&this.pause(),this._setActiveIndicatorElement(nextElement);var slidEvent=$.Event(Event.SLID,{relatedTarget:nextElement,direction:eventDirectionName,from:activeElementIndex,to:nextElementIndex});_util2.default.supportsTransitionEnd()&&$(this._element).hasClass(ClassName_SLIDE)?($(nextElement).addClass(orderClassName),_util2.default.reflow(nextElement),$(activeElement).addClass(directionalClassName),$(nextElement).addClass(directionalClassName),$(activeElement).one(_util2.default.TRANSITION_END,(function(){$(nextElement).removeClass("".concat(directionalClassName," ").concat(orderClassName)).addClass(ClassName_ACTIVE),$(activeElement).removeClass("".concat(ClassName_ACTIVE," ").concat(orderClassName," ").concat(directionalClassName)),_this3._isSliding=!1,setTimeout((function(){return $(_this3._element).trigger(slidEvent)}),0)})).emulateTransitionEnd(600)):($(activeElement).removeClass(ClassName_ACTIVE),$(nextElement).addClass(ClassName_ACTIVE),this._isSliding=!1,$(this._element).trigger(slidEvent)),isCycling&&this.cycle()}}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Carousel}();return $(document).on(Event.CLICK_DATA_API,Selector_DATA_SLIDE,Carousel._dataApiClickHandler),$(window).on(Event.LOAD_DATA_API,(function(){$(Selector_DATA_RIDE).each((function(){var $carousel=$(this);Carousel._jQueryInterface.call($carousel,$carousel.data())}))})),$.fn[NAME]=Carousel._jQueryInterface,$.fn[NAME].Constructor=Carousel,$.fn[NAME].noConflict=function(){return $.fn[NAME]=JQUERY_NO_CONFLICT,Carousel._jQueryInterface},Carousel}(_jquery2.default);return exports.default=Carousel,exports.default}));

//# sourceMappingURL=carousel.min.js.map