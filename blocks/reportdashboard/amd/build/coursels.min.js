define("block_reportdashboard/coursels",["block_learnerscript/ajax","jquery","block_learnerscript/report","block_reportdashboard/radioslider","block_reportdashboard/flatpickr"],(function(ajax,$,report,RadiosToSlider,flatpickr){var coursels;return coursels={init:function(){this.BootSideMenu({refreshdashboard:1,side:"right",title:"Course Statistics",width:"30%"})},CourseInsights:function(){var dlg=$("#internalbsm1").dialog({resizable:!0,autoOpen:!1,width:"50%",title:"",modal:!0,show:{effect:"slide",duration:1e3},position:{my:"left",at:"top",of:"body"},create:function(event,ui){$(".ui-dialog").css("z-index",9999)},open:function(event){RadiosToSlider.init($("#segmented-button"),{size:"medium",animation:!0}),flatpickr("#customrange",{mode:"range",onChange:function(selectedDates,dateStr,instance){$("#ls_fstartdate").val(selectedDates[0].getTime()/1e3),$("#ls_fenddate").val(selectedDates[1].getTime()/1e3),require(["block_learnerscript/report"],(function(reportjs){reportjs.DashboardTiles(),reportjs.DashboardWidgets()}))}}),require(["block_learnerscript/report"],(function(reportjs){reportjs.DashboardTiles(),reportjs.DashboardWidgets()})),$(document).ajaxStop((function(){$(".loader").fadeOut("slow")}))},close:function(event,ui){$(this).dialog("destroy"),$(".report_dashboard_container").html(""),$(".plotreport_dashboard_container").html("")}});$(document).ajaxComplete((function(){$("#reportloading").hide()})),dlg.dialog("open")},BootSideMenu:function(userOptions){var newCode,menu,prevStatus,placeholder=$("#internalbsm"),body={},defaults={side:"left",duration:500,autoClose:!0,pushBody:!1,closeOnClick:!0,remember:!1,width:userOptions.width,onTogglerClick:function(){},onBeforeOpen:function(){},onBeforeClose:function(){},onOpen:function(){userOptions.refreshdashboard&&(report.DashboardTiles(),report.DashboardWidgets())},onClose:function(){},onStartup:function(){}},options=$.extend({},defaults,userOptions);switch(body.originalMarginLeft=$("body").css("margin-left"),body.originalMarginRight=$("body").css("margin-right"),body.width=$("body").width(),newCode=' <div class="menu-wrapper">\n'+placeholder.html()+" </div>",newCode+='<div class="toggler" data-whois="toggler">',newCode+=" "+options.title,newCode+="</div>",placeholder.empty(),placeholder.append(newCode),(menu=$(placeholder)).addClass("container"),menu.addClass("bootsidemenu"),menu.css("width",options.width),"left"==options.side?menu.addClass("bootsidemenu-left"):"right"==options.side&&menu.addClass("bootsidemenu-right"),menu.id=menu.attr("id"),menu.cookieName="bsm2-"+menu.id,menu.toggler=$(menu.children()[1]),menu.originalPushBody=options.pushBody,menu.originalCloseOnClick=options.closeOnClick,prevStatus=options.remember?this.readCookie(menu.cookieName):null,this.forSmallBody(options,menu),prevStatus){case"opened":this.startOpened(options,menu);break;case"closed":this.startClosed(options,menu);break;default:this.startDefault(options,menu)}void 0!==options.onStartup&&options.onStartup(menu),$('[data-toggle="collapse"]',menu).each((function(){var icona=$('<span class="glyphicon glyphicon-chevron-right"></span>');$(placeholder).prepend(icona)})),menu.off("click","[data-whois=toggler]"),menu.on("click","[data-whois=toggler]",(function(){coursels.toggle(options,menu,body),void 0!==options.onTogglerClick&&options.onTogglerClick(menu)})),menu.off("click",".list-group-item"),menu.on("click",".list-group-item",(function(){menu.find(".list-group-item").each((function(){$(placeholder).removeClass("active")})),$(placeholder).addClass("active"),$(".glyphicon",placeholder).toggleClass("glyphicon-chevron-right").toggleClass("glyphicon-chevron-down")})),menu.off("click","a.list-group-item"),menu.on("click","a.list-group-item",(function(){options.closeOnClick&&"collapse"!=$(placeholder).attr("data-toggle")&&this.closeMenu(!0,options,menu)}))},ToggleArea:function(){var container=$("#internalbsm"),listaClassi=container[0].classList,side=this.getSide(listaClassi),containerWidth=container.width(),status=container.attr("data-status");status||(status="opened"),"closed"===status&&(report.DashboardTiles(),report.DashboardWidgets()),this.doAnimation(container,containerWidth,side,status)},searchSubMenu:function(id){var found=!1;return $(".submenu").each((function(){var thisId=$(this).attr("id");id==thisId&&(found=!0)})),found},readCookie:function(nome){for(var name=nome+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1);if(0==c.indexOf(name))return c.substring(name.length,c.length)}return null},startDefault:function(options,menu){"left"==options.side?options.autoClose?(menu.status="closed",menu.hide().animate({left:-(menu.width()+2)},1,(function(){menu.show()}))):options.autoClose||(menu.status="opened",options.pushBody&&$("body").css("margin-left",menu.width()+20)):"right"==options.side&&(options.autoClose?(menu.status="closed",menu.hide().animate({right:-(menu.width()+2)},1,(function(){menu.show()}))):(menu.status="opened",options.pushBody&&$("body").css("margin-right",menu.width()+20)))},startClosed:function(options,menu){"left"==options.side?(menu.status="closed",menu.hide().animate({left:-(menu.width()+2)},1,(function(){menu.show()}))):"right"==options.side&&(menu.status="closed",menu.hide().animate({right:-(menu.width()+2)},1,(function(){menu.show()})))},startOpened:function(options,menu){"left"==options.side?(menu.status="opened",options.pushBody&&$("body").css("margin-left",menu.width()+20)):"right"==options.side&&(menu.status="opened",options.pushBody&&$("body").css("margin-right",menu.width()+20))},switchArrow:function(side,menu){var span=menu.toggler.find("span.glyphicon");"left"==side?span.removeClass("glyphicon-chevron-left").addClass("glyphicon-chevron-right"):"right"==side&&span.removeClass("glyphicon-chevron-right").addClass("glyphicon-chevron-left")},forSmallBody:function(options,menu){$(window).width()<=480?(options.pushBody=!1,options.closeOnClick=!0):(options.pushBody=menu.originalPushBody,options.closeOnClick=menu.originalCloseOnClick)},getSide:function(listaClassi){for(var side,i=0;i<listaClassi.length;i++){if("sidebar-left"==listaClassi[i]){side="left";break}if("sidebar-right"==listaClassi[i]){side="right";break}side=null}return side},doAnimation:function(container,containerWidth,sidebarSide,sidebarStatus){var toggler=container.children()[1];"opened"==sidebarStatus?("left"==sidebarSide?(container.animate({left:-(containerWidth+2)}),this.toggleArrow(toggler,"left")):"right"==sidebarSide&&(container.animate({right:-(containerWidth+2)}),this.toggleArrow(toggler,"right")),container.attr("data-status","closed")):("left"==sidebarSide?(container.animate({left:0}),this.toggleArrow(toggler,"right")):"right"==sidebarSide&&(container.animate({right:0}),this.toggleArrow(toggler,"left")),container.attr("data-status","opened"))},toggle:function(options,menu,body){"opened"==menu.status?this.closeMenu(!0,options,menu,body):this.openMenu(!0,options,menu,body)},closeMenu:function(execFunctions,options,menu,body){execFunctions&&void 0!==options.onBeforeClose&&options.onBeforeClose(menu),"left"==options.side?(options.pushBody&&$("body").animate({marginLeft:body.originalMarginLeft},{duration:options.duration}),menu.animate({left:-(menu.width()+2)},{duration:options.duration,done:function(){menu.status="closed",execFunctions&&void 0!==options.onClose&&options.onClose(menu)}})):"right"==options.side&&(options.pushBody&&$("body").animate({marginRight:body.originalMarginRight},{duration:options.duration}),menu.animate({right:-(menu.width()+2)},{duration:options.duration,done:function(){menu.status="closed",execFunctions&&void 0!==options.onClose&&options.onClose(menu)}})),options.remember&&this.storeCookie(menu.cookieName,"closed")},storeCookie:function(nome,valore){var d=new Date;d.setTime(d.getTime()+864e5);var expires="expires="+d.toUTCString();document.cookie=nome+"="+valore+"; "+expires+"; path=/"},openMenu:function(execFunctions,options,menu,body){execFunctions&&void 0!==options.onBeforeOpen&&options.onBeforeOpen(menu),"left"==options.side?(options.pushBody&&$("body").animate({marginLeft:menu.width()+20},{duration:options.duration}),menu.animate({left:0},{duration:options.duration,done:function(){menu.status="opened",execFunctions&&void 0!==options.onOpen&&options.onOpen(menu)}})):"right"==options.side&&(options.pushBody&&$("body").animate({marginRight:menu.width()+20},{duration:options.duration}),menu.animate({right:0},{duration:options.duration,done:function(){menu.status="opened",execFunctions&&void 0!==options.onOpen&&options.onOpen(menu)}})),options.remember&&this.storeCookie(menu.cookieName,"opened")},toggleArrow:function(toggler,side){"left"==side?($(toggler).children(".glyphicon-chevron-right").css("display","block"),$(toggler).children(".glyphicon-chevron-left").css("display","none")):"right"==side&&($(toggler).children(".glyphicon-chevron-left").css("display","block"),$(toggler).children(".glyphicon-chevron-right").css("display","none"))}}}));

//# sourceMappingURL=coursels.min.js.map