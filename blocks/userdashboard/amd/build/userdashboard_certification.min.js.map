{"version":3,"file":"userdashboard_certification.min.js","sources":["../src/userdashboard_certification.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Handle selection changes and actions on the competency tree.\n *\n * @module     block_userdasboard/classrooms\n * @package    block_userdasboard\n * @copyright  2018 Maheshchandra <maheshchandra@eabyas.in>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery',\n        'core/url',\n        'core/templates',\n        'core/notification',\n        'core/str',\n        'core/ajax'\n        ], function($,url, templates, notification, str, ajax) {\n\n\n    var userdashboardCertification = function(){       \n      self._filter ='';         \n      self._template = '';\n      self._targetSelector = '';\n      self._menu = 0;\n      self.filter_text = '';\n    };\n\n    userdashboardCertification.prototype._getajaxCourses = function(){\n\n        self._menu = 0;\n        if(self._filter == 'menu'){\n            self._menu = 1;\n            self._filter = 'inprogress';\n        }\n        var removeRelated = ajax.call([{\n            methodname: 'block_userdashboard_data_for_certification_courses',\n                args:  {\n                    filter: self._filter,\n                    filter_text: self._filter_text                      \n                }\n            }\n        ]);\n\n        removeRelated[0].done(function(context) {\n      \n            context.inprogress_elearning=$.parseJSON(context.inprogress_elearning);\n            templates.render('block_userdashboard/loading', {});\n            templates.render(self._template, context).then(function(html,js) { \n                if(self._menu == 1){\n                    userdashboardCertification.prototype.frommenu_target_certification(html,'#certification_courses');\n                }              \n                else { \n                    var existing_active = $(\".divslide .active_subtab\").attr('id');\n                    $('#'+existing_active).html('');\n                    $('#userdashboard_filter').attr(\"data-filter\" , self._filter);\n                    $(self._targetSelector).siblings().removeClass('active_subtab');         \n                    $(self._targetSelector).addClass('active_subtab');\n                    $(self._targetSelector).html(html);  \n                }           \n            }).fail(notification.exception);\n        }).fail(notification.exception); \n    };\n\n\n    userdashboardCertification.prototype._setter = function(filter , filter_text){      \n  \n        self._filter = filter;\n        self._filter_text = filter_text;\n         \n        if(self._filter =='inprogress'){\n            self._template ='block_userdashboard/certification_courses_innercontent';\n            self._targetSelector ='#elearning_inprogress';\n        }\n\n        if(self._filter =='completed'){\n           self._template = 'block_userdashboard/certification_courses_innercontent';\n           self._targetSelector = '#elearning_completed';\n        }\n\n        if(self._filter == 'menu'){\n          self._template ='block_userdashboard/userdashboard_courses';\n          self._targetSelector ='#elearning_inprogress';\n        }\n\n        return  userdashboardCertification.prototype._getajaxCourses();\n\n    };\n    \n    userdashboardCertification.prototype.frommenu_target_certification = function (html, menu_targetselector){\n        $('.dashboard-stat').removeClass('active_main_tab');\n        $('#elearning_courses').addClass('active_main_tab');\n        $(menu_targetselector).parent('.dashboard-stat').addClass('active_main_tab');\n        $(\"#linked_course_details_info\").html(html);\n    };\n\n    userdashboardCertification.callCertification = function(filter, filter_text){\n        // console.log(filter);\n        userdashboardCertification.prototype._setter(filter, filter_text);\n    };\n\n    /** @alias module:block_userdashboard/userdashboard_elearning.js userdashboardElearning  */ \n    return userdashboardCertification;\n\n}); // end of main function"],"names":["define","$","url","templates","notification","str","ajax","userdashboardCertification","self","_filter","_template","_targetSelector","_menu","filter_text","prototype","_getajaxCourses","call","methodname","args","filter","_filter_text","done","context","inprogress_elearning","parseJSON","render","then","html","js","frommenu_target_certification","existing_active","attr","siblings","removeClass","addClass","fail","exception","_setter","menu_targetselector","parent","callCertification"],"mappings":";;;;;;;;AAuBAA,yDAAO,CAAC,SACA,WACA,iBACA,oBACA,WACA,cACG,SAASC,EAAEC,IAAKC,UAAWC,aAAcC,IAAKC,UAGjDC,2BAA6B,WAC/BC,KAAKC,QAAS,GACdD,KAAKE,UAAY,GACjBF,KAAKG,gBAAkB,GACvBH,KAAKI,MAAQ,EACbJ,KAAKK,YAAc,WAGrBN,2BAA2BO,UAAUC,gBAAkB,WAEnDP,KAAKI,MAAQ,EACM,QAAhBJ,KAAKC,UACJD,KAAKI,MAAQ,EACbJ,KAAKC,QAAU,cAECH,KAAKU,KAAK,CAAC,CAC3BC,WAAY,qDACRC,KAAO,CACHC,OAAQX,KAAKC,QACbI,YAAaL,KAAKY,iBAKhB,GAAGC,MAAK,SAASC,SAE3BA,QAAQC,qBAAqBtB,EAAEuB,UAAUF,QAAQC,sBACjDpB,UAAUsB,OAAO,8BAA+B,IAChDtB,UAAUsB,OAAOjB,KAAKE,UAAWY,SAASI,MAAK,SAASC,KAAKC,OACxC,GAAdpB,KAAKI,MACJL,2BAA2BO,UAAUe,8BAA8BF,KAAK,8BAEvE,KACGG,gBAAkB7B,EAAE,4BAA4B8B,KAAK,MACzD9B,EAAE,IAAI6B,iBAAiBH,KAAK,IAC5B1B,EAAE,yBAAyB8B,KAAK,cAAgBvB,KAAKC,SACrDR,EAAEO,KAAKG,iBAAiBqB,WAAWC,YAAY,iBAC/ChC,EAAEO,KAAKG,iBAAiBuB,SAAS,iBACjCjC,EAAEO,KAAKG,iBAAiBgB,KAAKA,UAElCQ,KAAK/B,aAAagC,cACtBD,KAAK/B,aAAagC,YAIzB7B,2BAA2BO,UAAUuB,QAAU,SAASlB,OAASN,oBAE7DL,KAAKC,QAAUU,OACfX,KAAKY,aAAeP,YAEF,cAAfL,KAAKC,UACJD,KAAKE,UAAW,yDAChBF,KAAKG,gBAAiB,yBAGR,aAAfH,KAAKC,UACLD,KAAKE,UAAY,yDACjBF,KAAKG,gBAAkB,wBAGP,QAAhBH,KAAKC,UACND,KAAKE,UAAW,4CAChBF,KAAKG,gBAAiB,yBAGhBJ,2BAA2BO,UAAUC,mBAIjDR,2BAA2BO,UAAUe,8BAAgC,SAAUF,KAAMW,qBACjFrC,EAAE,mBAAmBgC,YAAY,mBACjChC,EAAE,sBAAsBiC,SAAS,mBACjCjC,EAAEqC,qBAAqBC,OAAO,mBAAmBL,SAAS,mBAC1DjC,EAAE,+BAA+B0B,KAAKA,OAG1CpB,2BAA2BiC,kBAAoB,SAASrB,OAAQN,aAE5DN,2BAA2BO,UAAUuB,QAAQlB,OAAQN,cAIlDN"}