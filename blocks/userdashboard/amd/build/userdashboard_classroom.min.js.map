{"version":3,"file":"userdashboard_classroom.min.js","sources":["../src/userdashboard_classroom.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Handle selection changes and actions on the competency tree.\n *\n * @module     block_userdasboard/classrooms\n * @package    block_userdasboard\n * @copyright  2018 Maheshchandra <maheshchandra@eabyas.in>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery',\n        'core/url',\n        'core/templates',\n        'core/notification',\n        'core/str',\n        'core/ajax',\n        'block_userdashboard/userdashboardnav'\n        ], function($,url, templates, notification, str, ajax) {\n\n\n    var userdashboardClassroom = function(){       \n      self._filter ='';         \n      self._template='';\n      self._targetSelector='';\n      self._menu=0;\n      self.filter_text = '';\n    };\n\n    userdashboardClassroom.prototype._getajaxCourses = function(){\n\n        self._menu=0;\n        if(self._filter=='menu'){\n            self._menu=1;\n            self._filter='inprogress';\n        }\n        var removeRelated = ajax.call([{\n            methodname: 'block_userdashboard_data_for_classroom_courses',\n                args:  {\n                    filter: self._filter,\n                    filter_text: self._filter_text                      \n                }\n            }\n        ]);\n\n        removeRelated[0].done(function(context) {\n            context.inprogress_elearning=$.parseJSON(context.inprogress_elearning);\n            templates.render('block_userdashboard/loading', {});\n            templates.render(self._template, context).then(function(html,js) { \n                if(self._menu == 1){\n                    userdashboardClassroom.prototype.frommenu_target_classroom(html,'#classroom_courses');\n                }              \n                else {\n                    var existing_active = $(\".divslide .active_subtab\").attr('id');\n                    $('#'+existing_active).html(''); \n                    $('#userdashboard_filter').attr(\"data-filter\" , self._filter);\n                    $(self._targetSelector).siblings().removeClass('active_subtab');         \n                    $(self._targetSelector).addClass('active_subtab');\n                    $(self._targetSelector).html(html);  \n                }           \n            }).fail(notification.exception);\n        }).fail(notification.exception); \n    };\n\n\n    userdashboardClassroom.prototype._setter = function(filter,filter_text){      \n  \n        self._filter = filter;\n        self._filter_text = filter_text;\n         \n        if(self._filter =='inprogress'){\n            self._template='block_userdashboard/classroom_courses_innercontent';\n            self._targetSelector ='#elearning_inprogress';\n        }\n\n        if(self._filter =='completed'){\n           self._template = 'block_userdashboard/classroom_courses_innercontent';\n           self._targetSelector = '#elearning_completed';\n        }\n\n        if(self._filter == 'cancelled'){\n            self._template = 'block_userdashboard/classroom_courses_innercontent';\n            self._targetSelector = '#elearning_cancelled';\n        }\n\n        if(self._filter=='menu'){\n          self._template ='block_userdashboard/userdashboard_courses';\n          self._targetSelector ='#elearning_inprogress';\n        }\n\n        return  userdashboardClassroom.prototype._getajaxCourses();\n\n    };\n    \n    userdashboardClassroom.prototype.frommenu_target_classroom= function (html, menu_targetselector){\n        $('.dashboard-stat').removeClass('active_main_tab');\n        $('#elearning_courses').addClass('active_main_tab');\n        $(menu_targetselector).parent('.dashboard-stat').addClass('active_main_tab');\n        $(\"#linked_course_details_info\").html(html);\n    };\n\n    userdashboardClassroom.callClassroom = function(filter,filter_text){\n        userdashboardClassroom.prototype._setter(filter,filter_text);\n    };\n\n     /** @alias module:block_userdashboard/userdashboard_elearning.js userdashboardElearning  */ \n    return userdashboardClassroom;\n\n}); // end of main function"],"names":["define","$","url","templates","notification","str","ajax","userdashboardClassroom","self","_filter","_template","_targetSelector","_menu","filter_text","prototype","_getajaxCourses","call","methodname","args","filter","_filter_text","done","context","inprogress_elearning","parseJSON","render","then","html","js","frommenu_target_classroom","existing_active","attr","siblings","removeClass","addClass","fail","exception","_setter","menu_targetselector","parent","callClassroom"],"mappings":";;;;;;;;AAuBAA,qDAAO,CAAC,SACA,WACA,iBACA,oBACA,WACA,YACA,yCACG,SAASC,EAAEC,IAAKC,UAAWC,aAAcC,IAAKC,UAGjDC,uBAAyB,WAC3BC,KAAKC,QAAS,GACdD,KAAKE,UAAU,GACfF,KAAKG,gBAAgB,GACrBH,KAAKI,MAAM,EACXJ,KAAKK,YAAc,WAGrBN,uBAAuBO,UAAUC,gBAAkB,WAE/CP,KAAKI,MAAM,EACM,QAAdJ,KAAKC,UACJD,KAAKI,MAAM,EACXJ,KAAKC,QAAQ,cAEGH,KAAKU,KAAK,CAAC,CAC3BC,WAAY,iDACRC,KAAO,CACHC,OAAQX,KAAKC,QACbI,YAAaL,KAAKY,iBAKhB,GAAGC,MAAK,SAASC,SAC3BA,QAAQC,qBAAqBtB,EAAEuB,UAAUF,QAAQC,sBACjDpB,UAAUsB,OAAO,8BAA+B,IAChDtB,UAAUsB,OAAOjB,KAAKE,UAAWY,SAASI,MAAK,SAASC,KAAKC,OACxC,GAAdpB,KAAKI,MACJL,uBAAuBO,UAAUe,0BAA0BF,KAAK,0BAE/D,KACGG,gBAAkB7B,EAAE,4BAA4B8B,KAAK,MACzD9B,EAAE,IAAI6B,iBAAiBH,KAAK,IAC5B1B,EAAE,yBAAyB8B,KAAK,cAAgBvB,KAAKC,SACrDR,EAAEO,KAAKG,iBAAiBqB,WAAWC,YAAY,iBAC/ChC,EAAEO,KAAKG,iBAAiBuB,SAAS,iBACjCjC,EAAEO,KAAKG,iBAAiBgB,KAAKA,UAElCQ,KAAK/B,aAAagC,cACtBD,KAAK/B,aAAagC,YAIzB7B,uBAAuBO,UAAUuB,QAAU,SAASlB,OAAON,oBAEvDL,KAAKC,QAAUU,OACfX,KAAKY,aAAeP,YAEF,cAAfL,KAAKC,UACJD,KAAKE,UAAU,qDACfF,KAAKG,gBAAiB,yBAGR,aAAfH,KAAKC,UACLD,KAAKE,UAAY,qDACjBF,KAAKG,gBAAkB,wBAGP,aAAhBH,KAAKC,UACJD,KAAKE,UAAY,qDACjBF,KAAKG,gBAAkB,wBAGV,QAAdH,KAAKC,UACND,KAAKE,UAAW,4CAChBF,KAAKG,gBAAiB,yBAGhBJ,uBAAuBO,UAAUC,mBAI7CR,uBAAuBO,UAAUe,0BAA2B,SAAUF,KAAMW,qBACxErC,EAAE,mBAAmBgC,YAAY,mBACjChC,EAAE,sBAAsBiC,SAAS,mBACjCjC,EAAEqC,qBAAqBC,OAAO,mBAAmBL,SAAS,mBAC1DjC,EAAE,+BAA+B0B,KAAKA,OAG1CpB,uBAAuBiC,cAAgB,SAASrB,OAAON,aACnDN,uBAAuBO,UAAUuB,QAAQlB,OAAON,cAI7CN"}