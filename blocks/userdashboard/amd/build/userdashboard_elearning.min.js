/**
 * Handle selection changes and actions on the competency tree.
 *
 * @module     block_userdasboard/elearning
 * @package    block_userdasboard
 * @copyright  2018 hemalathacarun <hemalatha@eabyas.in>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("block_userdashboard/userdashboard_elearning",["jquery","core/url","core/templates","core/notification","core/str","core/ajax"],(function($,url,templates,notification,str,ajax){var userdashboardElearning=function(filter){self._filter="",self._template="",self._targetSelector="",self._menu=0,self.filter_text=""};return userdashboardElearning.prototype._getajaxCourses=function(){self._menu=0,"menu"==self._filter&&(self._menu=1,self._filter="inprogress",self._offset=0,self._limit=2),ajax.call([{methodname:"block_userdashboard_data_for_elearning_courses",args:{filter:self._filter,filter_text:self._filter_text,filter_offset:self._offset,filter_limit:self._limit}}])[0].done((function(context){context.inprogress_elearning=$.parseJSON(context.inprogress_elearning),templates.render("block_userdashboard/loading",{}),templates.render(self._template,context).then((function(html,js){if(1==self._menu)userdashboardElearning.prototype.frommenu_target_elearning(html,"#elearning_courses");else{var existing_active=$(".divslide .active_subtab").attr("id");$("#"+existing_active).html(""),$("#userdashboard_filter").attr("data-filter",self._filter),$(self._targetSelector).siblings().removeClass("active_subtab"),$(self._targetSelector).addClass("active_subtab"),$(self._targetSelector).html(html)}})).fail(notification.exception)})).fail(notification.exception)},userdashboardElearning.prototype._setter=function(filter,filter_text){return self._filter=filter,self._filter_text=filter_text,"inprogress"==self._filter&&(self._template="block_userdashboard/elearning_courses_innercontent",self._targetSelector="#elearning_inprogress"),"completed"==self._filter&&(self._template="block_userdashboard/elearning_courses_innercontent",self._targetSelector="#elearning_completed"),"menu"==self._filter&&(self._template="block_userdashboard/userdashboard_courses",self._targetSelector="#elearning_inprogress"),userdashboardElearning.prototype._getajaxCourses()},userdashboardElearning.prototype.frommenu_target_elearning=function(html,menu_targetselector){$(".dashboard-stat").removeClass("active_main_tab"),$("#elearning_courses").addClass("active_main_tab"),$(menu_targetselector).parent(".dashboard-stat").addClass("active_main_tab"),$("#linked_course_details_info").html(html)},userdashboardElearning.callElearning=function(filter,filter_text){userdashboardElearning.prototype._setter(filter,filter_text)},userdashboardElearning}));

//# sourceMappingURL=userdashboard_elearning.min.js.map