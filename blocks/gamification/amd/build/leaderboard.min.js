define("block_gamification/leaderboard",["jquery","core/str","core/modal_factory","core/modal_events","core/fragment","core/ajax","core/templates"],(function($,Str,ModalFactory,ModalEvents,Fragment,Ajax,Templates){var blockContent=function(params){Ajax.call([{methodname:"block_gamifiaction_block_content",args:params}])[0].done((function(resp){Templates.render("block_gamification/block_view",resp).done((function(html){$(".gamification_content.leaderboard").html(html),$(".leaderboard_content .loading").addClass("hidden")}))}))};return{blockContent:function(courseid){var block_view=$(".gamification_tabs").data("block_view");$(document).on("click",".gamification_link",(function(){if(!$(this).hasClass("active")){$(".leaderboard_content .loading").removeClass("hidden"),$(this).addClass("active").siblings().removeClass("active");var data=$(this).data(),params={};return params.courseid=courseid,params.type=data.type,params.block_view=block_view,null==data.startdate?params.startdate=0:params.startdate=data.startdate,null==data.enddate?params.enddate=0:params.enddate=data.enddate,null==data.contextid?params.contextid=1:params.contextid=data.contextid,new blockContent(params)}}));var data=$(".gamification_tabs").find(".active").data(),params={};return params.courseid=courseid,params.type=data.type,params.block_view=block_view,null==data.startdate?params.startdate=0:params.startdate=data.startdate,null==data.enddate?params.enddate=0:params.enddate=data.enddate,null==data.contextid?params.contextid=1:params.contextid=data.contextid,new blockContent(params)}}}));

//# sourceMappingURL=leaderboard.min.js.map