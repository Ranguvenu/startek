define("block_learnerscript/smartfilter",["jquery","block_learnerscript/ajax","block_learnerscript/reportwidget","block_learnerscript/report","block_learnerscript/jquery.serialize-object"],(function($,ajax,reportwidget,report){$(".basicparamsform #id_filter_course");var BasicparamUser=$(".basicparamsform #id_filter_users"),BasicparamActivity=$(".basicparamsform #id_filter_activities"),FilterUser=($(".filterform #id_filter_course"),$(".filterform #id_filter_users")),FilterActivity=$(".filterform #id_filter_activities");return smartfilter={DurationFilter:function(value,reportdashboard){var today=new Date,start_duration=(today.getFullYear(),today.getMonth(),today.getDate(),"");if("clear"!==value){switch($("#ls_fenddate").val(today.getTime()/1e3),value){case"week":start_duration=new Date(today.getFullYear(),today.getMonth(),today.getDate()-7);break;case"month":start_duration=new Date(today.getFullYear(),today.getMonth()-1,today.getDate());break;case"year":start_duration=new Date(today.getFullYear()-1,today.getMonth(),today.getDate());break;case"custom":$("#customrange").show()}""!=start_duration&&$("#ls_fstartdate").val(start_duration.getTime()/1e3)}else $("#ls_fenddate").val(""),$("#ls_fstartdate").val("");if("custom"!==value){var reportid=$('input[name="reportid"]').val();0!=reportdashboard?require(["block_learnerscript/reportwidget"],(function(reportwidget){reportwidget.DashboardTiles(),reportwidget.DashboardWidgets()})):require(["block_learnerscript/report"],(function(report){report.CreateReportPage({reportid:reportid,instanceid:reportid,reportdashboard:reportdashboard})})),$("#customrange").val(""),$("#customrange").hide()}if(1!=reportdashboard){reportid=$('input[name="reportid"]').val();$(".plotgraphcontainer").removeClass("show").addClass("hide"),$("#plotreportcontainer"+reportid).html("")}},FilterData:function(reportinstance){var reportfilter=$(".filterform"+reportinstance).serializeObject();if($.urlParam=function(name){var results=new RegExp("[?&]"+name+"=([^&#]*)").exec(window.location.href);return null===results||" "==results?null:results[1]||0},"Course"==$.urlParam("dashboardurl")){var filter_courseid=$(".report_courses").val();reportfilter.filter_course=filter_courseid}var filter_coscenterid=$("#dashboardcostcenters").val();reportfilter.filter_organization=filter_coscenterid;var filter_departmentid=$("#dashboarddepartment").val();return reportfilter.filter_departments=filter_departmentid,reportfilter},BasicparamsData:function(reportinstance){return $(".basicparamsform"+reportinstance).serializeObject()},CourseData:function(args){var FirstElementActive=!1;(BasicparamActivity.length>0||FilterActivity.length>0)&&(BasicparamActivity.length>0&&(FirstElementActive=!0),args.courseid>0&&this.CourseActivities({courseid:args.courseid,firstelementactive:FirstElementActive,activityid:args.filterrequests.filter_activity})),(BasicparamUser.length>0||FilterUser.length>0)&&BasicparamUser.length>0&&(FirstElementActive=!0)},categoryCourses:function(args){$("#id_filter_coursecategories").find(":selected").val()>0&&ajax.call({args:{action:"categorycourses",basicparam:!0,reporttype:args.reporttype,categoryid:args.categoryid},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){var template="";$.each(response,(function(key,value){template+="<option value = "+key+">"+value+"</option>"})),$("#id_filter_course").html(template)}))},orgdepartments:function(args){$("#id_filter_organization").find(":selected").val()>0&&ajax.call({args:{action:"orgdepts",basicparam:!0,reporttype:args.reporttype,orgid:args.organizationid},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){var template="";$.each(response,(function(key,value){template+="<option value = "+key+">"+value+"</option>"})),$("#id_filter_departments").html(template);var currentdepartment=$(".basicparamsform #id_filter_departments").find(":selected").val();0!=currentdepartment&&null!=currentdepartment||$(".basicparamsform #id_filter_departments").val($(".basicparamsform #id_filter_departments option:eq(1)").val()),$("#id_filter_departments").trigger("change")}))},orglearningpath:function(args){$("#id_filter_organization").find(":selected").val()>0&&ajax.call({args:{action:"orglearningpath",basicparam:!0,reporttype:args.reporttype,orgid:args.organizationid},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){var template="";$.each(response,(function(key,value){template+="<option value = "+key+">"+value+"</option>"})),$("#id_filter_learningpath").html(template);var currentlearningpath=$(".basicparamsform #id_filter_learningpath").find(":selected").val();0!=currentlearningpath&&null!=currentlearningpath||$(".basicparamsform #id_filter_learningpath").val($(".basicparamsform #id_filter_learningpath option:eq(1)").val()),$("#id_filter_learningpath").trigger("change")}))},DepartmentSubdepts:function(args){var currentdepid=$("#id_filter_departments").find(":selected").val(),currentorganization=$("#id_filter_organization").find(":selected").val();ajax.call({args:{action:"deptsubdepartments",basicparam:!0,reporttype:args.reporttype,departmentid:currentdepid,orgid:currentorganization},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){var template="";$.each(response,(function(key,value){template+="<option value = "+key+">"+value+"</option>"})),$("#id_filter_subdepartments").html(template);var currentsubdepartment=$(".basicparamsform #id_filter_subdepartments").find(":selected").val();0!=currentsubdepartment&&null!=currentsubdepartment||$(".basicparamsform #id_filter_subdepartments").val($(".basicparamsform #id_filter_subdepartments option:eq(1)").val()),$("#id_filter_subdepartments").trigger("change")}))},Departmentl4depts:function(args){var currentsubdepid=$("#id_filter_subdepartments").find(":selected").val(),currentdepid=$("#id_filter_departments").find(":selected").val(),currentorganization=$("#id_filter_organization").find(":selected").val();ajax.call({args:{action:"deptl4departments",basicparam:!0,reporttype:args.reporttype,subdepartmentid:currentsubdepid,departmentid:currentdepid,orgid:currentorganization},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){var template="";$.each(response,(function(key,value){template+="<option value = "+key+">"+value+"</option>"})),$("#id_filter_level4department").html(template);var currentsubdepartment=$(".basicparamsform #id_filter_level4department").find(":selected").val();0!=currentsubdepartment&&null!=currentsubdepartment||$(".basicparamsform #id_filter_level4department").val($(".basicparamsform #id_filter_level4department option:eq(1)").val()),$("#id_filter_level4department").trigger("change")}))},Departmentl5depts:function(args){var currentl4depid=$("#id_filter_level4department").find(":selected").val(),currentsubdepid=$("#id_filter_subdepartments").find(":selected").val(),currentdepid=$("#id_filter_departments").find(":selected").val(),currentorganization=$("#id_filter_organization").find(":selected").val();ajax.call({args:{action:"deptl5departments",basicparam:!0,reporttype:args.reporttype,currentl4depid:currentl4depid,subdepartmentid:currentsubdepid,departmentid:currentdepid,orgid:currentorganization},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){var template="";$.each(response,(function(key,value){template+="<option value = "+key+">"+value+"</option>"})),$("#id_filter_level5department").html(template);var currentsubdepartment=$(".basicparamsform #id_filter_level5department").find(":selected").val();0!=currentsubdepartment&&null!=currentsubdepartment||$(".basicparamsform #id_filter_level5department").val($(".basicparamsform #id_filter_level5department option:eq(1)").val()),$("#id_filter_level5department").trigger("change")}))},DepartmentCohorts:function(args){var currentdepid=$("#id_filter_departments").find(":selected").val(),currentorganization=$("#id_filter_organization").find(":selected").val();ajax.call({args:{action:"deptcohorts",basicparam:!0,reporttype:args.reporttype,departmentid:currentdepid,orgid:currentorganization},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){var template="";$.each(response,(function(key,value){template+="<option value = "+key+">"+value+"</option>"})),$("#id_filter_cohort").html(template);var currentcohort=$(".basicparamsform #id_filter_cohort").find(":selected").val();0!=currentcohort&&null!=currentcohort||$(".basicparamsform #id_filter_cohort").val($(".basicparamsform #id_filter_cohort option:eq(1)").val()),$("#id_filter_cohort").trigger("change")}))},deplearningpath:function(args){var currentdepid=$("#id_filter_departments").find(":selected").val(),currentorganization=$("#id_filter_organization").find(":selected").val();ajax.call({args:{action:"deplearningpath",basicparam:!0,reporttype:args.reporttype,departmentid:currentdepid,orgid:currentorganization},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){var template="";$.each(response,(function(key,value){template+="<option value = "+key+">"+value+"</option>"})),$("#id_filter_learningpath").html(template);var currentlearningpath=$(".basicparamsform #id_filter_learningpath").find(":selected").val();0!=currentlearningpath&&null!=currentlearningpath||$(".basicparamsform #id_filter_learningpath").val($(".basicparamsform #id_filter_learningpath option:eq(1)").val()),$("#id_filter_learningpath").trigger("change")}))},deponlinecourses:function(args){var currentsubdepid=$("#id_filter_subdepartments").find(":selected").val(),currentdepid=$("#id_filter_departments").find(":selected").val(),currentorganization=$("#id_filter_organization").find(":selected").val();ajax.call({args:{action:"deponlinecourses",basicparam:!0,reporttype:args.reporttype,subdepartmentid:currentsubdepid,departmentid:currentdepid,orgid:currentorganization},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){var template="";$.each(response,(function(key,value){template+="<option value = "+key+">"+value+"</option>"})),$("#id_filter_onlinecourses").html(template);var currentonlinecourse=$(".basicparamsform #id_filter_onlinecourses").find(":selected").val();0!=currentonlinecourse&&null!=currentonlinecourse||$(".basicparamsform #id_filter_onlinecourses").val($(".basicparamsform #id_filter_onlinecourses option:eq(1)").val()),$("#id_filter_onlinecourses").trigger("change")}))},deplabs:function(args){var currentsubdepid=$("#id_filter_subdepartments").find(":selected").val(),currentdepid=$("#id_filter_departments").find(":selected").val(),currentorganization=$("#id_filter_organization").find(":selected").val();ajax.call({args:{action:"deplabs",basicparam:!0,reporttype:args.reporttype,subdepartmentid:currentsubdepid,departmentid:currentdepid,orgid:currentorganization},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){var template="";$.each(response,(function(key,value){template+="<option value = "+key+">"+value+"</option>"})),$("#id_filter_labs").html(template);var currentlab=$(".basicparamsform #id_filter_labs").find(":selected").val();0!=currentlab&&null!=currentlab||$(".basicparamsform #id_filter_labs").val($(".basicparamsform #id_filter_labs option:eq(1)").val()),$("#id_filter_labs").trigger("change")}))},depassessments:function(args){var currentsubdepid=$("#id_filter_subdepartments").find(":selected").val(),currentdepid=$("#id_filter_departments").find(":selected").val(),currentorganization=$("#id_filter_organization").find(":selected").val();ajax.call({args:{action:"depassessments",basicparam:!0,reporttype:args.reporttype,subdepartmentid:currentsubdepid,departmentid:currentdepid,orgid:currentorganization},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){var template="";$.each(response,(function(key,value){template+="<option value = "+key+">"+value+"</option>"})),$("#id_filter_assessments").html(template);var currentassessment=$(".basicparamsform #id_filter_assessments").find(":selected").val();0!=currentassessment&&null!=currentassessment||$(".basicparamsform #id_filter_assessments").val($(".basicparamsform #id_filter_assessments option:eq(1)").val()),$("#id_filter_assessments").trigger("change")}))},depusergroups:function(args){var currentsubdepid=$("#id_filter_subdepartments").find(":selected").val(),currentdepid=$("#id_filter_departments").find(":selected").val(),currentorganization=$("#id_filter_organization").find(":selected").val();ajax.call({args:{action:"depusergroups",basicparam:!0,reporttype:args.reporttype,subdepartmentid:currentsubdepid,departmentid:currentdepid,orgid:currentorganization},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){var template="";$.each(response,(function(key,value){template+="<option value = "+key+">"+value+"</option>"})),$("#id_filter_usergroup").html(template);var currentlearningpath=$(".basicparamsform #id_filter_usergroup").find(":selected").val();0!=currentlearningpath&&null!=currentlearningpath||$(".basicparamsform #id_filter_usergroup").val($(".basicparamsform #id_filter_usergroup option:eq(1)").val()),$("#id_filter_usergroup").trigger("change")}))},depwebinars:function(args){var currentsubdepid=$("#id_filter_subdepartments").find(":selected").val(),currentdepid=$("#id_filter_departments").find(":selected").val(),currentorganization=$("#id_filter_organization").find(":selected").val();ajax.call({args:{action:"depwebinars",basicparam:!0,reporttype:args.reporttype,subdepartmentid:currentsubdepid,departmentid:currentdepid,orgid:currentorganization},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){var template="";$.each(response,(function(key,value){template+="<option value = "+key+">"+value+"</option>"})),$("#id_filter_webinars").html(template);var currentwebinar=$(".basicparamsform #id_filter_webinars").find(":selected").val();0!=currentwebinar&&null!=currentwebinar||$(".basicparamsform #id_filter_webinars").val($(".basicparamsform #id_filter_webinars option:eq(1)").val()),$("#id_filter_webinars").trigger("change")}))},depprograms:function(args){var currentsubdepid=$("#id_filter_subdepartments").find(":selected").val(),currentdepid=$("#id_filter_departments").find(":selected").val(),currentorganization=$("#id_filter_organization").find(":selected").val();ajax.call({args:{action:"depprograms",basicparam:!0,reporttype:args.reporttype,subdepartmentid:currentsubdepid,departmentid:currentdepid,orgid:currentorganization},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){var template="";$.each(response,(function(key,value){template+="<option value = "+key+">"+value+"</option>"})),$("#id_filter_programs").html(template);var currentwebinar=$(".basicparamsform #id_filter_programs").find(":selected").val();0!=currentwebinar&&null!=currentwebinar||$(".basicparamsform #id_filter_programs").val($(".basicparamsform #id_filter_programs option:eq(1)").val()),$("#id_filter_programs").trigger("change")}))},depclassrooms:function(args){var currentsubdepid=$("#id_filter_subdepartments").find(":selected").val(),currentdepid=$("#id_filter_departments").find(":selected").val(),currentorganization=$("#id_filter_organization").find(":selected").val();ajax.call({args:{action:"depclassrooms",basicparam:!0,reporttype:args.reporttype,subdepartmentid:currentsubdepid,departmentid:currentdepid,orgid:currentorganization},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){var template="";$.each(response,(function(key,value){template+="<option value = "+key+">"+value+"</option>"})),$("#id_filter_classrooms").html(template);var currentclassroom=$(".basicparamsform #id_filter_classrooms").find(":selected").val();0!=currentclassroom&&null!=currentclassroom||$(".basicparamsform #id_filter_classrooms").val($(".basicparamsform #id_filter_classrooms option:eq(1)").val()),$("#id_filter_classrooms").trigger("change")}))},DepartmentCourses:function(args){$("#id_filter_subdepartments").find(":selected").val(),$("#id_filter_departments").find(":selected").val(),$("#id_filter_organization").find(":selected").val();var requestedcourseid=args.courseid;ajax.call({args:{action:"departmentcourses",basicparam:!0,reporttype:args.reporttype,subdepartmentid:args.subdepartmentid,departmentid:args.departmentid,orgid:args.organizationid},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){var template="";$.each(response,(function(key,value){var selected="";key==requestedcourseid&&(selected="selected"),template+="<option value = "+key+" "+selected+" >"+value+"</option>"})),$("#id_filter_course").html(template);var currentcourse=$(".basicparamsform #id_filter_course").find(":selected").val();0!=currentcourse&&null!=currentcourse||$(".basicparamsform #id_filter_course").val($(".basicparamsform #id_filter_course option:eq(1)").val()),$("#id_filter_course").trigger("change")}))},DepartmentUsers:function(args){$("#id_filter_level5department").find(":selected").val(),$("#id_filter_level4department").find(":selected").val(),$("#id_filter_subdepartments").find(":selected").val(),$("#id_filter_departments").find(":selected").val(),$("#id_filter_organization").find(":selected").val();var requesteduserid=args.userid;ajax.call({args:{action:"departmentusers",basicparam:!0,reporttype:args.reporttype,currentl5depid:args.currentl5department,currentl4depid:args.currentl4department,subdepartmentid:args.subdepartmentid,departmentid:args.departmentid,orgid:args.organizationid},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){var template="";$.each(response,(function(key,value){var selected="";key==requesteduserid&&(selected="selected"),template+="<option value = "+key+" "+selected+" >"+value+"</option>"})),$("#id_filter_users").html(template);var currentcourse=$(".basicparamsform #id_filter_users").find(":selected").val();0!=currentcourse&&null!=currentcourse||$(".basicparamsform #id_filter_users").val($(".basicparamsform #id_filter_users option:eq(1)").val()),$("#id_filter_users").trigger("change")}))},DepartmentUser:function(args){$("#id_filter_level5department").find(":selected").val(),$("#id_filter_level4department").find(":selected").val(),$("#id_filter_subdepartments").find(":selected").val(),$("#id_filter_departments").find(":selected").val(),$("#id_filter_organization").find(":selected").val();var requesteduserid=args.userid;ajax.call({args:{action:"departmentusers",basicparam:!0,reporttype:args.reporttype,currentl5depid:args.currentl5department,currentl4depid:args.currentl4department,subdepartmentid:args.subdepartmentid,departmentid:args.departmentid,orgid:args.organizationid},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){var template="";$.each(response,(function(key,value){var selected="";key==requesteduserid&&(selected="selected"),template+="<option value = "+key+" "+selected+" >"+value+"</option>"})),$("#id_filter_user").html(template);var currentcourse=$(".basicparamsform #id_filter_user").find(":selected").val();0!=currentcourse&&null!=currentcourse||$(".basicparamsform #id_filter_user").val($(".basicparamsform #id_filter_user option:eq(1)").val()),$("#id_filter_user").trigger("change")}))},GeoState:function(args){var currentorganization=$("#id_filter_organization").find(":selected").val();args.userid;ajax.call({args:{action:"geostates",basicparam:!0,reporttype:args.reporttype,orgid:currentorganization},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){var template="";$.each(response,(function(key,value){template+="<option value = "+key+"  >"+value+"</option>"})),$("#id_filter_geostate").html(template);var currentstate=$(".basicparamsform #id_filter_geostate").find(":selected").val();0!=currentstate&&null!=currentstate||$(".basicparamsform #id_filter_geostate").val($(".basicparamsform #id_filter_geostate option:eq(1)").val()),$("#id_filter_geostate").trigger("change")}))},GeoDistrict:function(args){var currentorganization=$("#id_filter_organization").find(":selected").val(),currentstate=$("#id_filter_geostate").find(":selected").val();args.userid;ajax.call({args:{action:"geodistrict",basicparam:!0,reporttype:args.reporttype,orgid:currentorganization,currentstate:currentstate},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){var template="";$.each(response,(function(key,value){template+="<option value = "+key+"  >"+value+"</option>"})),$("#id_filter_geodistrict").html(template);var currentdistrict=$(".basicparamsform #id_filter_geodistrict").find(":selected").val();0!=currentdistrict&&null!=currentdistrict||$(".basicparamsform #id_filter_geodistrict").val($(".basicparamsform #id_filter_geodistrict option:eq(1)").val()),$("#id_filter_geodistrict").trigger("change")}))},GeoSubdistrict:function(args){var currentorganization=$("#id_filter_organization").find(":selected").val(),currentstate=$("#id_filter_geostate").find(":selected").val(),currentdistrict=$("#id_filter_geodistrict").find(":selected").val();args.userid;ajax.call({args:{action:"geosubdistrict",basicparam:!0,reporttype:args.reporttype,orgid:currentorganization,currentstate:currentstate,currentdistrict:currentdistrict},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){var template="";$.each(response,(function(key,value){template+="<option value = "+key+"  >"+value+"</option>"})),$("#id_filter_geosubdistrict").html(template);var currentsubdistrict=$(".basicparamsform #id_filter_geosubdistrict").find(":selected").val();0!=currentsubdistrict&&null!=currentsubdistrict||$(".basicparamsform #id_filter_geosubdistrict").val($(".basicparamsform #id_filter_geosubdistrict option:eq(1)").val()),$("#id_filter_geosubdistrict").trigger("change")}))},GeoVillage:function(args){var currentorganization=$("#id_filter_organization").find(":selected").val(),currentstate=$("#id_filter_geostate").find(":selected").val(),currentdistrict=$("#id_filter_geodistrict").find(":selected").val(),currentsubdistrict=$("#id_filter_geosubdistrict").find(":selected").val();args.userid;ajax.call({args:{action:"geovillage",basicparam:!0,reporttype:args.reporttype,orgid:currentorganization,currentstate:currentstate,currentdistrict:currentdistrict,currentsubdistrict:currentsubdistrict},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){var template="";$.each(response,(function(key,value){template+="<option value = "+key+"  >"+value+"</option>"})),$("#id_filter_geovillage").html(template);var currentstate=$(".basicparamsform #id_filter_geovillage").find(":selected").val();0!=currentstate&&null!=currentstate||$(".basicparamsform #id_filter_geovillage").val($(".basicparamsform #id_filter_geovillage option:eq(1)").val()),$("#id_filter_geovillage").trigger("change")}))},CourseActivities:function(args){var nearelement=args.element||$("#id_filter_activities");activityid=parseInt(args.activityid)||0;nearelement.val();(nearelement.find("option").remove().end().append("<option value=0>Select Activity</option>"),args.courseid>=0)&&ajax.call({args:{action:"courseactivities",basicparam:!0,courseid:args.courseid},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){$.each(response,(function(key,value){if(0==(key=parseInt(key)))return!0;key!=activityid?nearelement.append($("<option></option>").attr("value",key).text(value)):nearelement.append($("<option></option>").attr("value",key).attr("selected","selected").text(value))}));var currentactivity=$(".basicparamsform #id_filter_activities").find(":selected").val();0!=currentactivity&&null!=currentactivity||$(".basicparamsform #id_filter_activities").val($(".basicparamsform #id_filter_activities option:eq(1)").val()),nearelement.parents(".basicparamsform").length>0&&args.onloadtrigger&&$(".basicparamsform #id_filter_apply").trigger("click")}))},UserCourses:function(args){var currentcourse=$("#id_filter_course").find(":selected").val();($("#id_filter_course").find("option").remove().end().append('<option value="">Select Course</option>'),args.userid>=0)&&ajax.call({args:{action:"usercourses",basicparam:!0,userid:args.userid,reporttype:args.reporttype,reportid:args.reportid},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){$.each(response,(function(key,value){if(0==key)return!0;key==Object.keys(response)[0]&&1==args.firstelementactive||key==currentcourse&&1==args.firstelementactive?($("#id_filter_course").append($("<option></option>").attr("value",key).attr("selected","selected").text(value)),void 0!==args.triggercourseactivities&&1==args.triggercourseactivities&&smartfilter.CourseActivities({courseid:key})):$("#id_filter_course").append($("<option></option>").attr("value",key).text(value))}))}))},EnrolledUsers:function(args){var nearelement=args.element||$("#id_filter_users"),currentuser=nearelement.val();nearelement.find("option").remove().end().append('<option value="">Select User</option>'),ajax.call({args:{action:"enrolledusers",basicparam:!0,reportid:args.reportid,courseid:args.courseid,reporttype:args.reporttype,component:args.components},url:M.cfg.wwwroot+"/blocks/learnerscript/ajax.php"}).done((function(response){($.each(response,(function(key,value){if(0==key)return!0;key!=currentuser?nearelement.append($("<option></option>").attr("value",key).text(value)):nearelement.append($("<option></option>").attr("value",key).attr("selected","selected").text(value))})),response.hasOwnProperty(currentuser))&&(nearelement.select2("val",""),nearelement.parents(".basicparamsform").length>0&&args.onloadtrigger&&$(".basicparamsform #id_filter_apply").trigger("click"))}))}}}));

//# sourceMappingURL=smartfilter.min.js.map