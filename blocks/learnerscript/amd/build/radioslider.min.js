define("block_learnerscript/radioslider",["jquery","block_learnerscript/report"],(function($,report){return RadiosToSlider={init:function(element,options){this.KNOB_WIDTH=10,this.KNOB_MARGIN=42,this.LEVEL_MARGIN=this.KNOB_MARGIN+10,this.LABEL_WIDTH=34,this.LEVEL_WIDTH=10,this.bearer=element,this.options=options,this.currentLevel=0,this.value=null;var rtn=[];element.each((function(){options=$.extend({},this.defaults,options),RadiosToSlider.activate(),rtn.push({bearer:this.bearer,setDisable:RadiosToSlider.setDisable.bind(RadiosToSlider),setEnable:RadiosToSlider.setEnable.bind(RadiosToSlider),getValue:RadiosToSlider.getValue.bind(RadiosToSlider)})}))},activate:function(){this.numOptions=this.bearer.find("input[type=radio]").length,this.reset(),this.fitContainer(),this.addBaseStyle(),this.addLevels(),this.addBar(),this.setSlider(),this.addInteraction(),this.setDisabled();var slider=this;$(window).on("resize orientationChanged",(function(){slider.reset(),slider.fitContainer(),slider.addBaseStyle(),slider.addLevels(),slider.setSlider(),slider.addInteraction(),slider.setDisabled()}))},reset:function(){var $labels=this.bearer.find("label"),$levels=this.bearer.find(".slider-level");$labels.each((function(){var $this=$(this);$this.removeClass("slider-label"),$this.css("left",0)})),$levels.each((function(){$(this).remove()})),this.bearer.css("width","auto")},fitContainer:function(){this.options.fitContainer&&(this.KNOB_MARGIN=(this.bearer.width()-this.KNOB_WIDTH)/(this.numOptions-1)-this.KNOB_WIDTH,this.LEVEL_MARGIN=this.KNOB_MARGIN+10)},addBaseStyle:function(){var label=0,slider=this,width=this.numOptions*this.LEVEL_WIDTH+(this.numOptions-1)*this.LEVEL_MARGIN;this.bearer.find("input[type=radio]").hide(),this.bearer.addClass("radios-to-slider "+this.options.size),this.bearer.css("width",width+"px"),this.bearer.find("label").each((function(){var $this=$(this),leftPos=slider.KNOB_WIDTH/2-slider.LABEL_WIDTH/2+label*slider.LEVEL_MARGIN+label*slider.LEVEL_WIDTH;$this.addClass("slider-label"),$this.css("left",leftPos+"px"),label++}))},addLevels:function(){var $bearer=this.bearer,level=0,slider=this;$bearer.find("input[type=radio]").each((function(){var $this=$(this);$bearer.append("<ins class='slider-level' data-radio='"+$this.attr("id")+"' data-value="+$this.val()+"></ins>")})),$bearer.find(".slider-level").each((function(){var $this=$(this),width=$bearer.css("padding-left").replace("px","")-0+level*slider.LEVEL_MARGIN+level*slider.LEVEL_WIDTH;$this.css("left",width+"px"),level++}))},addBar:function(){this.bearer.append("<ins class='slider-bar'><span class='slider-knob'></span></ins>")},setSlider:function(){var label,$inputs=this.bearer.find("input[type=radio]"),$levels=this.bearer.find(".slider-level"),$labels=this.bearer.find(".slider-label"),radio=1,slider=this;$inputs.each((function(){var $this=$(this),$sliderbar=slider.bearer.find(".slider-bar");$this.attr("id");if($this.prop("checked")){var width=radio*slider.KNOB_WIDTH+(radio-1)*slider.KNOB_MARGIN+10*(radio-1);$sliderbar.css("display","block"),$sliderbar.width(width+"px"),slider.currentLevel=radio}slider.options.animation&&$sliderbar.addClass("transition-enabled"),radio++})),label=0,$levels.each((function(){label++;var $this=$(this);label<slider.currentLevel?($this.show(),$this.addClass("slider-lower-level")):label==slider.currentLevel?$this.hide():($this.show(),$this.removeClass("slider-lower-level"))})),label=0,$labels.each((function(){label++;var $this=$(this);label==slider.currentLevel?$this.addClass("slider-label-active"):$this.removeClass("slider-label-active")}))},addInteraction:function(){var slider=this,$bearer=slider.bearer,$levels=$bearer.find(".slider-level:not(.disabled)"),$inputs=$bearer.find("input[type=radio]:not(:disabled)");$levels.on("click",(function(e){e.stopImmediatePropagation();var $this=$(this),val=$this.attr("data-value"),radioId=$this.attr("data-radio"),radioElement=$bearer.find("#"+radioId);require(["block_learnerscript/smartfilter"],(function(smartfilter){smartfilter.DurationFilter(val,slider.options.reportdashboard)})),radioElement.prop("checked",!0),slider.options.onSelect&&slider.options.onSelect(radioElement,[$levels,$inputs]),slider.value=val,$bearer.attr("data-value",val),slider.setSlider(),$bearer.trigger("radiochange")})),$inputs.on("change",(function(e){e.stopImmediatePropagation();var $this=$(this),val=$this.attr("value"),radioId=$this.attr("data-radio"),radioElement=$bearer.find("#"+radioId);require(["block_learnerscript/smartfilter"],(function(smartfilter){smartfilter.DurationFilter(val,slider.options.reportdashboard)})),radioElement.prop("checked",!0),slider.options.onChange&&slider.options.onChange(radioElement,[$levels,$inputs]),slider.value=val,$bearer.attr("data-value",val),slider.setSlider(),$bearer.trigger("radiochange")}))},setDisabled:function(isDisable,cb){this.options.isDisable&&this.setDisable()},setDisable:function(cb){this.options.isDisable=!0;var $bearer=this.bearer,$levels=this.bearer.find(".slider-level"),$inputs=this.bearer.find("input[type=radio]");$.merge($levels,$inputs).each((function(){var $this=$(this);$this.prop("disabled",!0).addClass("disabled"),$this.off("click change")})),"function"==typeof cb&&cb($levels,$inputs),$bearer.trigger("radiodisabled")},setEnable:function(cb){this.options.isDisable=!1;var slider=this,$bearer=slider.bearer,$levels=this.bearer.find(".slider-level"),$inputs=this.bearer.find("input[type=radio]");$.merge($levels,$inputs).each((function(){$(this).prop("disabled",!1).removeClass("disabled"),slider.addInteraction()})),"function"==typeof cb&&cb($levels,$inputs),$bearer.trigger("radiodenabled")},getValue:function(){return this.value}}}));

//# sourceMappingURL=radioslider.min.js.map